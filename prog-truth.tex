\documentclass[UKenglish,cleveref,DIV=12]{scrartcl}
%++++++++++++++++++++++++++++++++++++++++
\title{Iterated self-applicable truth}
\author{GEL \& MR}
\date{\today}
%++++++++++++++++++++++++++++++++++++++++
\usepackage{babel}
\usepackage[utf8]{inputenc}

% 
\usepackage{xparse}			%enable better macro definitions
%\usepackage{ifthen}

%\input{packages}
% packages.tex
% added packages
\usepackage{amsthm}
\usepackage{thmtools,thm-restate}

% TYPE-FACE
\usepackage[T1]{fontenc}
\usepackage[osf]{newpxtext}
\usepackage[nosymbolsc]{newpxmath}
\usepackage[scr=boondox,cal=rsfs,frak=pxtx]{mathalfa}
\useosf
%\let\emptyset\emptysetAlt
%\let\forall\forallAlt
%\let\exists\existsAlt

% MISC
\usepackage{mathtools}

\usepackage{ebproof}
%
\ebproofset{
	left label template={\normalfont\small (\inserttext)},
	right label template={\small \inserttext},
	rule margin=.5ex,% default .7ex
	rule separation=1pt,
	separation=2ex,% default 1.5em
	label separation=.3ex,% default .5ex
}
%
\newcommand{\subproof}[2][]{\hypo{}\ellipsis{#1}{#2}}
% Poor man's fix for ebproof
\makeatletter
\@ifpackagelater{ebproof}{2020/01/01}%
	{}%
	{\usepackage{ebprooffix}}
\makeatother

\usepackage{prooft}


\usepackage{enumitem}
\usepackage{xcolor}

% Load these after everything
\usepackage[bookmarks,unicode]{hyperref}
\usepackage[]{cleveref}

% Define environments
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}%[section]
\newtheorem{proposition}[lemma]{Proposition}
\newtheorem{corollary}[lemma]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[lemma]{Definition}
\newtheorem{example}{Example}

\theoremstyle{definition}
\newtheorem{observation}[lemma]{Observation}
\newtheorem{remark}{Remark}

% Separate file for defined macros:
\input{macros}
% END OF MAIN PREAMBLE

% DRAFT
\providecommand*\showkeyslabelformat[1]{%
   {\normalfont\scriptsize\ttfamily#1}}
\usepackage[notref,notcite,color]{showkeys}
%
% highlight & margin note
\NewDocumentCommand{\highlight}{O{blue}om}{\begingroup\small\textcolor{#1}{\IfValueT{#2}{\textsc{#2}\ }#3}\endgroup}
\NewDocumentCommand{\note}{O{black}om}{\marginpar{\scriptsize\textcolor{#1}{\IfValueT{#2}{\textsc{#2}\ }#3}}}
% personalise:
\newcommand{\gelnote}[1]{\note[magenta]{#1}}
\newcommand{\gelhighlight}[1]{\highlight[magenta]{#1}}
%

%++++++++++++++++++++++++++++++++++++++++
\begin{document}
%++++++++++++++++++++++++++++++++++++++++
\maketitle
%++++++++++++++++++++++++++++++++++++++++

\tableofcontents

%\setlength{\parskip}{.5\baselineskip}

%----------------------------------------

% ---------------
\section{Overview}
% --------------
Should \emph{is true} be \emph{is justifiable} or \emph{verifiable}?

%----------------------------------------
\section{A theory}
%----------------------------------------

Language \( \L_\Omega \): extend language of PRA by binary predicate \( T \).
Assuming an ordinal notation system of a sufficiently large ordinal \( \kappa \), and \( \eta < \kappa \), \( T_\eta s \) means \( T( \ulcorner \eta \urcorner , s ) \).
%From \( x \) viewed as a sequence, \( x_i \) denotes the projection of \( x \) to the \( i \)-th component.

For \( \beta < \kappa \), define a theory \( \TT_\beta \) extending \( \theory{HA} \) by axioms, for each \( \eta \le \kappa \):
\begin{align*}
\text{Some axiom like: } \form{Tr}_\textrm{eq}( x ) &\rightarrow T_\eta x 
\\
\form{valid}( x ) \wedge \Sent(x) &\rightarrow T_\eta x 
\\
\tag{I}
	\forall \gn A \gn B ( T_\eta \gn { A \rightarrow B} &\rightarrow ( T_\eta \gn A \rightarrow T_\eta \gn B ) )
	\\
\tag{U}
	\forall \gn{A(x)}( \forall n T_\eta  \gn{ A(\dot n)} &\rightarrow T_\eta \gn{ \forall x A(x) }
	\\
\tag{D}
	\forall \xi \le \bar \beta ( T_\eta \gn{ T_\xi \dot x } &\rightarrow T_\eta x )
	\\
\tag{R}
	\forall \xi < \bar \eta ( T_\eta x &\rightarrow T_\eta \gn{ T_\xi \dot x })
\end{align*}
%
and rules of inference
\begin{align*}
	\tag{Nec}
	A &\vdash T_\beta \gn A
	\\
	\tag{Conec}
	T_\beta \gn A &\vdash A
\end{align*}

What gives the strength is that (D) `collapses' all internal truth predicates to the current level (\( \eta \)).
In contrast, (R) only permits `expanding' the internal level by lower level predicates.


We argue that
%
\begin{theorem}
	For every \( p < \omega \),
\[
  \pto{\TT_p} = \vartheta ( \Omega ^{p+1} \cdot \omega ).
\]
\end{theorem}

\begin{theorem}
	For \( \omega \le \beta < \vartheta \Omega^\Omega \),
\[
	\vartheta(\Omega^\beta \cdot \omega) \le \pto{\TT_\beta} \le \vartheta ( \Omega ^{\beta+1} \cdot \omega ).
\]
\end{theorem}

\begin{theorem}
	The limit of the autonomous progression of \( \{ \TT_\beta : \beta < \Omega \} \) is the large Veblen ordinal, \( \vartheta \Omega^\Omega \).
\end{theorem}

It seems likely that the same claims hold for (intuitionistic) \( \TT_\beta \).

The ordinal analysis of \( \TT_\beta \) theories is derived from the analysis of a classical extension of the theories in the first author's PhD thesis~\cite{Lei-thesis}.
Some arguments require changing to accommodate the intuitionistic base (T-elimination), and some have been streamlined (?).

% ----------------------------------
\section{Theories with multiple self-applicable truth predicates --- material from the thesis}
\label{chap:ext}
% ----------------------------------

\fussy Truth is often used as a means of reflection; a tool by which one may obtain
principles, schemata etc.~that were implicit, but not necessary explicit, in the
acceptance of some axiomatic system. Feferman, for example, views the theory
of truth $\KFRef$ (see \cref{introdefn:Ref}) as an operation which, when applied
to a theory $\theory S$, answers the question ``which statements in the base
language \dots{}\ {ought} to be accepted {if} one has accepted the basic axioms and
rules of $[\theory S]$?''~\cite[p.~2]{Fef91}.
The Friedman-Sheard theories $\A$ to $\I$ can also be viewed as operations which
have been applied to $\PRA$: one adds to $\PRA$ a (new) predicate $\T$,
formalising the acceptance of $\PRA$; on top of this one adds some subset of the Optional
Axioms, for example adding $\forall$-Inf formalises the acceptance of
$\omega$-logic, while the axiom T-Del formalises closure under the rule T-Elim.

Viewing theories of truth as operations provides a natural way to describe the
general processes behind their construction and allows one to possibly iterate
the operation. In this section we will look at this specifically from the
perspective of the Friedman-Sheard theory $\F$.% where we isolate an ``underlying operation'' and iterate it.

One way of arguing for the naturalness of $\theory S_3$ is to view it as formalising the acceptance of $\theory S_2$. Within $\theory S_3$ one has T-Rep and T-Del, formalising the rules of inference T-Intro and T-Elim of $\theory S_2$, and thus
\begin{align*}
  \theory S_3\proves
  \forall x( \Prov_{\theory S_2}(x)\land\Sent_{\L_\T}(x)\rightarrow \T(x)).
\end{align*}
However, $\theory S_2$ contains the rule T-Intro, so it seems reasonable that the theory attempting to formalise its acceptance should also be closed under T-Intro. But the presence of T-Rep, T-Del and T-Elim in $\theory S_3$ means this is not possible, so perhaps $\theory S_3$ is not such a natural theory after all.

Since closure of $\F$ under $\lnot$T-Elim is vacuous, $\F$ and $\theory S_2$ are identical as theories. Therefore, $\theory S_3$ can be seen as formalising the acceptance of $\F$, although one might expect in this case, to also add
\begin{align*}%\label{eqn:S3ax5}
  \T(\gn{\lnot \T(\dot x)})\rightarrow \T(\dlnot x)
\end{align*}
as an axiom.\footnote{As the $\L_\T$-structure $\mathfrak{M}$ used in \cref{thm:S3consistent} also satisfies the axiom $\T(\gn{\lnot \T(\dot x)})\rightarrow \T(\dlnot x)$, the extension of $\theory S_3$ obtained by adding this axiom is also consistent.} Still, the resulting theory cannot be closed under T-Intro, as one would like.

If one were to stratify the language, in much the same way as one would to form a Tarskian hierarchy of truth predicates, the problem can be circumvented. Recall $\F=\BaseT+\text{T-Intro}+\text{T-Elim}+\text{$\lnot$T-Elim}+\text{T-Del}+\text{$\forall$-Inf}$. Let $\HST_0$ denote $\F$ formulated with the predicate $\T_0$ in place of $\T$, and suppose $\T_1$ is a (new) unary predicate symbol. The theory formalising acceptance of $\HST_0$, which we shall denote by $\HST_1$, would then contain the following axioms
\begin{gather}
  \valid(x)\land\Sent_{\L_{\T_0}}(x)\rightarrow \T_1(x),\label{eqn:FFax0}\\
  \set{Ax}_{\HST_0}(x)\land\Sent_{\L_{\T_0}}(x)\rightarrow \T_1(x),\label{eqn:FFax1}\\
  \T_1(x)\land \T_1(x\dimplies y)\rightarrow \T_1(y),\label{eqn:FFax2}\\
  (\forall x\,\T_1(\gn{A(\dot x)}))\rightarrow \T_1(\gn{\forall xA(x)}),\label{eqn:FFaxw}\\
  \T_1(x)\rightarrow \T_1(\gn{\T_0(\dot x)}),\label{eqn:FFax3}\\
  \T_1(\gn{\T_0(\dot x)})\rightarrow \T_1(x),\label{eqn:FFax4}\\
  \T_1(\gn{\lnot \T_0(\dot x)})\rightarrow \T_1(\dlnot x).\label{eqn:FFax5}
\end{gather}
\eqref{eqn:FFax1,eqn:FFax0} state the acceptance of all axioms of $\HST_0$ (logical and non-logical), whereas \eqref{eqn:FFax2} formalises \emph{modus ponens} in $\HST_0$. These three also combine to imply the axioms of $\theory{Base}_{\T_1}$. \eqref{eqn:FFax3,eqn:FFax4,eqn:FFax5} express the acceptance of the rules \Nec{0}, \Conec0 and
$\lnot$\Conec0, respectively, in $\HST_0$, while \eqref{eqn:FFaxw} closes the
predicate under $\omega$-logic.

The predicate $\T_1$ is viewed as an extension of the predicate $\T_0$ and as such
we would expect it to satisfy the relevant axioms of $\F$, that is, we also have %\Del{1}
\begin{gather*}%\label{eqn:T1Del}
 \T_1(\gn{\T_1(\dot x)})\rightarrow \T_1(x),
\end{gather*}
and closure under \Conec{1}, \Nec{1} and $\lnot$\Conec{1}. Combining
also the axioms of $\HST_0$ it is then easy to deduce
\begin{align}\label{eqn:F1reflection}
  \forall x( \Prov_{\HST_0}(x)\land\Sent_{\L_{\T_0}}(x)\rightarrow \T_1(x)).
\end{align}

% Without \Conec{1}, however, $\HST_0$ need not be a sub-theory of $\HST_1$.
% % On the other hand, since we are claiming to accept $\theory S_2$ we should
% % consider adding the rules of inference \Conec{1} ensuring $\theory S_2$ is a
% % subset of the final theory we construct.
% With \Conec{1} present, \eqref{eqn:F1reflection} commits $\HST_1$ to being
% formulated with both predicates $\T_0$ and $\T_1$ (as opposed to $\T_0$ occurring
% only in the scope of $\T_1$). Finally, we argued that $\theory S_3$
% did not fulfil our intuitive understanding of acceptance as it could not be
% consistently closed under T-Intro; thus we would like to include the rule
% \Nec{1} in the formulation of $\HST_1$.
% % Our
% % initial reason behind adopting a second truth predicate was to allow for the
% % addition of the rules of inference \Nec{0} and \Conec0, something we
% % could not consistently achieve with $\theory S_3$. Whether or
% % not the rule \Nec{0} should be restricted so as to only apply to formulae
% % of $\L_{\T_0}$, is an important question. Related is whether \cref
% % or should one allow
% % its application to the whole language (and any further expansion of it)?

We are happy with the thought of $\T_0$ being a self-applicable truth predicate,
and so far there is nothing to stop $\T_1$ also being self-applicable. Moreover, $\T_0$
may meaningfully occur in the scope of the predicate $\T_1$. Thus we have described the
first step in a hierarchy of self-applicable truth predicates. But, should the
predicate $\T_1$ be allowed to occur in the scope of $\T_0$? After all, the
motivation behind working with theories that contain their own truth predicate
is in their ability to reason about themselves.
% The corresponding rule for $\HST_1$ would now
% be \Nec{1}, utilising the additional predicate. Indeed, our initial reason
% behind adopting a second truth predicate was to allow for the addition of the
% rules of inference \Nec{1}, \Conec{1} and $\lnot$\Conec{1} to
% $\HST_1$, something we could not consistently achieve with $\theory S_3$.
Since
\Nec{1} may apply to arbitrary sentences in $\L_{\T_0,\T_1}$, the question
of whether or not $\T_0$ can meaningfully apply to sentences containing $\T_1$
is essentially decided by how we restrict the quantifiers in
\eqref{eqn:FFax2,eqn:FFax3,eqn:FFax4,eqn:FFax5,eqn:FFaxw} (in
particular \eqref{eqn:FFax3} pertaining to \Nec{0}) for inclusion in
$\HST_1$: if we restrict them to range over only codes of $\L_{\T_0}$-sentences we
will have no non-trivial occurrences of this inter-applicability.

As is consistent with our earlier chapters, we view our theories as being
presented in a Hilbert style deduction system, with certain axioms and rules of inference which
are treated in their broadest sense. Namely, we consider a rule of inference of a
theory $\theory S$ to be applicable to any extension of the language, logic or
axioms of $\theory S$. Thus, if one imagines the theory $\HST_0$ being first
formulated in the language $\L\cup\{\T_0,\T_1\}$, and only then completing
the reflection step to $\HST_1$ by adding the axioms and rules pertaining to
$\T_1$, it seems natural to suppose the predicates $\T_0$ and $\T_1$ are
inter-applicable. Since \Nec{0} was applicable in $\HST_0$ to formulae
containing the predicate $\T_1$, so should $\T_0$ in $\HST_1$. Thus, we expect
$\HST_1$ to have the axiom \textT0-Imp,
\begin{align*}
  \forall x\forall y[ \T_0(x)\land \T_0(x\dimplies y)\rightarrow \T_0(y)],
\end{align*}
as opposed to its relativised form
\begin{align}\label{eqn:T0relative}
  \forall x\forall y[\Sent_{\L_{\T_0}}(x)\land\Sent_{\L_{\T_0}}(y)\rightarrow ( \T_0(x)\land \T_0(x\dimplies y)\rightarrow \T_0(y))];
\end{align}
and, more importantly, that $\HST_1$ contains the unrelativised axioms
\begin{gather}
  \forall x[\T_1(x)\rightarrow \T_1(\gn{\T_0(\dot x)})],\nonumber\\
  \forall x[\T_1(\gn{\T_0(\dot x)})\rightarrow \T_1(x)],\label{eqn:F1ax1}\\
  \forall x[\T_1(\gn{\lnot \T_0(\dot x)})\rightarrow \T_1(\dlnot x)].\nonumber
\end{gather}
This provides, for example,
\begin{align*}
  \forall x[\T_1(\gn{\T_1(\dot x)})\equi \T_1(\gn{\T_0(\gn{\T_1(\dot x)})})],
\end{align*}
which, by \Nec{1} and \eqref{eqn:F1reflection}, yields
$\T_0(\gn{\T_1(\gn A)})$ for every theorem $A$ of $\HST_0$. Thus our informal
interpretation leads us to the curious situation where we have two
self-applicable predicates $\T_0$, $\T_1$ which may also be applied to each other.

If, on the other hand, we had considered relativising the quantifiers as in \eqref{eqn:T0relative},
$\T_1$ may apply to the language $\L_{\T_0,\T_1}$ whereas $\T_0$ may only
meaningfully apply to $\L_{\T_0}$ and one would obtain the base of a strict
hierarchy of self-applicable truth predicates. In this case we can no longer
argue that $\T_0$ represents a truth predicate for the whole language but only of
the sub-language $\L_{\T_0}$. The reason for choosing a self-applicable
notion of truth in the first place was that it may be treated as a truth
predicate for the entire language, including any subsequent extension. Thus,
$\T_0$ \emph{should} be applicable to sentences involving the predicate $\T_1$ and
we find ourselves returning to the world of two inter-applicable truth
predicates.

So far we have argued that in $\HST_1$ the interpretation of $\T_0$ should be
closed under \Conec0 and $\lnot$\Conec0 while the interpretation of
$\T_1$ should be closed under \Nec{0}, \Conec0, $\lnot$\Conec0,
\Conec{1} and $\lnot$\Conec{1}. However, we desire $\T_1$ to be
viewed as an extension of $\T_0$ so as to allow for closure of $\HST_1$ under a
form of \emph{truth introduction} and this fact should be recognised by the
theory. That is, from the point of view of the theory $\HST_1$, there should be no
essential difference between the predicates $\T_0$ and $\T_1$. Thus we propose to
also include the principle
\begin{gather}\label{eqn:T1Del}
  \T_0(\gn{\T_1(\dot x)})\rightarrow \T_0(x)
\end{gather}
as an axiom of $\HST_1$ (in fact as an axiom of $\HST_0$).
\eqref{eqn:T1Del} expresses that the interpretation of $\T_0$ is closed under
the rule \Conec{1}. This is vacuously valid in the theory $\HST_0$. It also
serves to confirm the inter-applicability of the two predicates by allowing
meaningful inferences regarding $\T_1$ under a $\T_0$ predicate. If we accept
\eqref{eqn:T1Del} we should also accept $\T_0(\gn{\lnot \T_1(\dot x)})\rightarrow
\T_0(\dlnot x)$, but as we shall see, this axiom will be trivially satisfied by
our model.

% The axioms we have chosen for $\HST_1$ serve to formalise the acceptance
% of the rules of inference in $\HST_0$ and closure under $\omega$-logic. The
% original aim, however, was that the new theory also ``agreed'' with the old and
% this lead to the rules \Nec{1}, \Conec{1} and $\lnot$\Conec{1} being
% incorporated. $\HST_0$ also contains \Del{0}, expressing that the truth
% predicate $\T_0$ is closed under \Conec0.
% In the passage to $\HST_1$ we
% replaced \Conec0 by \Conec{1} and thus it seems reasonable to also
% include \Del{1} in $\HST_1$ expressing the main truth predicate of $\HST_1$
% ($\T_1$) is closed under \Del{1}.

We have only described the step $\HST_0$ to $\HST_1$, but one can imagine repeating
this, first adding an additional truth predicate $\T_2$ to $\HST_1$ and then
reflecting upon it to form the theory $\HST_2$.\footnote{A more precise
way to describe the construction of $\HST_2$ may be given as follows: first imagine formulating $\HST_0$
with three predicates, $\T_0$, $\T_1$, and $\T_2$. One then formulates $\HST_1$ in this
language by reflecting upon $\HST_0$, and only then is $\HST_2$ formulated by reflecting
upon $\HST_1$. In this sense we view $\HST_0$ as not being formulated in a fixed
language, but rather in a language that may be expanded as and when we see fit.} This process may be
continued into the transfinite to form a hierarchy of theories, supporting a
hierarchy of inter-applicable truth predicates.\footnote{The inter-applicability
of the predicates calls into question whether what we obtain is truly a
``hierarchy of truth predicates'' as we describe. Our model construction, in the
next section, will show that one {can} view the truth predicates as based on
a hierarchy, although not, perhaps, in a manner one might first imagine.}

The description of $\HST_1$ and $\HST_2$ presented above is purely motivational and requires making
explicit, which the next definition achieves.
As we pass beyond finite iterations and consider the construction of theories
$\HST_\omega$, $\HST_{\varepsilon_0}$, \emph{etc.},  one requires the ability
to internally quantify over the indices of truth predicates in the language. We
therefore need to fix some computable ordinal $\kappa$ from the outset and only
consider iterating the construction up to ordinals $\alpha<\kappa$. In fact to
maintain as much similarity with our previous work as possible ({for
example to ensure a primitive recursive Gödel numbering}) we will insist $\kappa$ is
primitive recursively definable. One could consider taking $\kappa=\Gamma_0$ and
utilising the encoding chosen in \cref{chap:fsclass}, but as we shall see
$\pto{\theory F_1}\ge\Gamma_0$ (see \cref{cor:F1lowerbound} below) and so we will
require the construction of a larger class of ordinals to perform a sufficient
proof-theoretic analysis. Suitable choices for $\kappa$ will ultimately depend on our
analysis and have no substantial role in defining the theories. Since the
precise definition of $\kappa$ is not essential for the definition, we shall
assume for the time being that $\kappa$ represents some fixed primitive
recursive ordinal.
\begin{definition}%[\normalfont of $\HST_{\beta}$]
For $\beta<\kappa$, let $\L_\beta$ denote the language of $\PRA$ augmented by
predicates  $\T_\xi$ for each $\xi < \beta$. Let $\HST_\beta$ be the theory
formulated in the language $\L_{\beta+1}$, extending $\PA$ with the schema of
induction for $\L_\beta$, and for each $\eta\le\beta$
\begin{gather}
  \forall x(\T_\eta(x_1)\land \T_\eta(x_1\dimplies x_2)\rightarrow \T_\eta(x_2)),
	  \tag{\Imp{\eta}}\label{ax:imp}\\
  \forall\gn {A(x)}[(\forall n \T_\eta(\gn{A(\dot n)}))\rightarrow
	\T_{\eta}(\gn{\forall x \,A(x)})],
	  \tag{uni$_\eta$}\label{ax:uni}\\
  \forall \xi\le\bar\beta\,\forall x( \T_\eta(\gn{\T_{\dot{\xi}}(\dot
	x)})\rightarrow \T_\eta(x)),
	  \tag{\Del{\eta}}\label{ax:del}\\
  \forall \xi<\bar\eta \,\forall x(\T_\eta(x)\rightarrow\T_\eta(\gn{
	  \T_{\dot{\xi}}(\dot x)}),
	  \tag{\Rep{\eta}}\label{ax:rep}\\
%  \forall \xi\le\bar\beta\,\forall x( \T_\eta(\gn{\lnot\T_{\dot{\xi}}(\dot x)})\rightarrow \T_\eta(\dlnot x)),
%	  \tag{$\lnot$\Del\eta}\label{eqn:T-dag3}\\
\intertext{as well as the rules of inference}
  \text{from $A$ infer $\T_\beta(\gn A)$,}\tag{nec$_\beta$}
	  \label{ax:nec}\\
%  \text{from $\lnot \T_\beta(\gn A)$ infer $\lnot A$,}
%	  \tag{$\lnot$\Conec\beta}\label{eqn:notT-Elim}\\
  \text{from $\T_\beta(\gn A)$ infer $A$.}\tag{conec$_\beta$}
	  \label{ax:conec}
\end{gather}
% where $\set{Ax}_\PRA(x)$ denotes `$x$ is the Gödel number of some non-logical axiom
% of $\PRA$' and $\valid(x)$ expresses `$x$ is the Gödel number of some valid
% first-order sentence in $\L_\kappa$'.
Define $\HST_{<\beta}=\bigcup_{\eta<\beta}\HST_\beta$. 
We denote by $\HST_\beta^n$ the collection of theorems of $\HST_\beta$ provable with at most $n$ (serial) applications
of \eqref{ax:nec} and no restriction on the number of applications of
\eqref{ax:conec}. 
Thus $\HST_\beta^0$ denotes the theory $\HST_\beta$ without
\eqref{ax:nec}, and
$\HST_\beta^n$ is a sub-theory of $\HST_\beta^{n+1}$ for every $n$.
\end{definition}

The theory $\HST_0$ is identical to $\F$ and the definition of $\HST_{\beta}$ fits
the informal description we gave of `$\F$ viewed as an operation applied to
$\HST_{<\beta}$'. Also, $\HST_\beta^0$ is a conservative extension of
$\HA$ as, with no applications of \eqref{ax:nec}, all predicates $\T_\eta$ in
$\HST_\beta^0$ may be interpreted trivially to show neither $\HST_\beta^0\proves
\T_\beta s$ nor $\HST_\beta^0\proves \lnot \T_\beta s$ may hold.

Although $\HST_1$ may be borne from a notion of
truth and acceptance, it is by no means necessarily consistent.
% \footnote{Let alone the theory $\HST_\beta$ for arbitrary $\beta$.} 
Indeed, with its multiple
truth predicates and inter-applicability, the reader would be duly justified to
view this construction with some scepticism. The process of reflection that led
us to $\HST_1$, however, is almost identical to that which describes the theory
$\theory S_3$. As a result it may not be surprising to know that $\HST_1$ is
consistent and in fact $\HST_1^1$ proves the same arithmetical statements as the
theory $\theory S_3$. Unfortunately we do not at this time have the suitable
machinery to prove their equivalence ({this will have to wait until
\cref{sec:conc}}), but the
following remark should motivate the connection.


\begin{remark}\label{rem:S3} It is natural to first consider embedding
$\HST_1^1$ into $\theory S_3$. As the predicate $\T_1$ can be interpreted vacuously
in $\HST_1^0$ (as can $\T_0$), one may expect the interpretation given by
\begin{align*}
 \T_1 s^*=\T_0 s^*= \T(g s)
\end{align*}
to suffice, where $g$ is a primitive recursive function chosen, by the primitive recursion theorem, such that
\begin{align*}
 g(x)&=x, \text{ if $x$ is the code of an arithmetical literal},\\
 g(\gn{\T_1 s})&=\gn{s\neq s},\\
 g(\gn{\T_0 s})&=\gn{\T(g s)},\\
 g(\gn{A\mathbin\circ B})&=g(\gn A)\mathbin{\subdot\circ} g(\gn B), \text{for $\circ\in\{\land,\lor\}$}\\
 g(\gn{QxA(x)})&=\dfa x\, g(\gn{A(x)}).
\end{align*}
% and commutes with all connectives and quantifiers.

This interpretation will translate the axioms \Del{1}, \Uni{1}
and \Rep{1} of $\HST_1$ to the axioms T-Del, $\forall$-Inf and T-Rep
respectively of $\theory S_3$. Since $\theory S_3$ does not have the axiom
$\lnot$T-Del (nor can we expect to derive it in $\theory S_3$) one cannot derive
the translation of $\lnot$\Del{1} from $\HST_1^1$. Fortunately, the model
construction of \cref{sec:S3consis} can easily incorporate the additional
axiom $\lnot$T-Del and rule $\lnot$T-Elim with minimal adjustments: one
may consistently add the rule pertaining to $\lnot$T-Del to each of the theories
$\FF_\alpha$ and expand \cref{lem:FF1TElim} to also prove $\FF_\alpha\proves\lnot
\T(\gn A)$ implies $\FF_\alpha\proves\lnot A$, thus showing $\theory
S_3+\text{$\lnot$T-Del}+\text{$\lnot$T-Elim}$ is a consistent theory.

The problem with this interpretation manifests when dealing with applications of
\Conec{1} in $\HST_1^1$. Suppose $\HST_1^1\proves \T_1(\gn A)$. If $A$ does not
contain the predicate $\T_1$, $\gn {A^*}=g(\gn A)$ and an application of T-Elim
in $\theory S_3$ suffices. If, however, $A$ contains $\T_1$,
the interpretation of $\T_1(\gn A)$ and $A$ under $^*$ are very different;
indeed, there will be sentences $B$ for which $\theory S_3\proves \T(g(\gn B))$
but $\theory S_3\not\proves  B^*$ (for example, take $B$ to be $\lnot \T_1(\gn
C)$ where $C$ is any statement provable in $\theory S_3$. Then $\theory
S_3\proves B^*$ implies $\theory S_3+\text{$\lnot$T-Elim}\proves \lnot C$, which contradicts the consistency of $\theory
S_3+\text{$\lnot$T-Elim}$. On the other hand, $g(\gn B)=\gn{\lnot(s\neq s)}$ for some $s$, so $\theory S_3\proves \T(g(\gn B))$ holds).
If $A$ were an axiom of $\HST_1^0$ though, $\theory
S_3\proves A^*$; moreover, if one views \textT1-Imp, \Del{1} and \textT1-Rep
as a rule of inference, as in $\FF$, one could deduce
closure under \Conec{1} by induction on the height of a derivation. Viewing
the axioms of $\HST_1^1$ in this manner is
reminiscent of the use of the infinitary system $\Finfty$ in the analysis of
$\F$; thus it seems natural to delay a further investigation of this connection
until we have first analysed $\HST_1$ in detail.

Although the addition of full \Nec{1} to $\HST_1^1$ (forming $\HST_1$) creates
a theory markedly stronger than $\theory S_3$, it is not straightforward to
embed $\theory S_3$ into $\HST_1$. Such an embedding would require stratifying
$\L_\T$ to involve the two predicates $\T_0$ and $\T_1$ of $\L_1$. The most obvious
way to proceed would appear to involve replacing the outermost predicate by
$\T_1$ and all others by $\T_0$, thus mapping the axioms $\T(\gn{\text{T-Imp}})$,
$\T(\gn{\text{$\forall$-Inf}})$ and $\T(\gn{\text{T-Del}})$ of $\theory S_3$ to
theorems of $\HST_1^1$. This could be achieved by picking a primitive recursive
function $f$ which recursively substitutes $\T_0(f s)$ for $\T s$, and considering
the interpretation $^*$ of $\L_\T$ into $\L_1$ given by
\begin{align*}
 (\T s)^*=\T_1(f s).
\end{align*}
This interpretation maps the axioms $\forall$-Inf, T-Imp, T-Del and
T-Rep by instances of axioms \Uni{1}, \textT1-Imp, \Del{1} and
\Rep{1} respectively, but since $f(\gn A)$ need not equal $\gn{A^*}$,
applications of T-Elim in $\theory S_3$ do not translate into inferences we can
readily recognise as holding in $\HST_1$.
\end{remark}

We now move to the task of proving the consistency of $\HST_\beta$ for arbitrary
$\beta$. This will be obtained by generalising the consistency argument for
$\theory S_3$ to theories with multiple predicates and is presented in
\cref{sec:Fbconsis} below. Following this we will perform a detailed ordinal
analysis of these theories, first determining lower bounds on their
proof-theoretic strength, and second upper bounds. Lower bounds on the strength
of the theories $\HST_\beta$ will be obtained in \cref{sec:Fblower} by
extending the well-ordering results previously established for $\theory S_2$ and
$\theory S_3$. Upper bounds are determined in \cref{sec:Fbupper1} where we
attempt to directly formalise the model constructions of \cref{sec:Fbconsis}
in a manner similar to our analysis of $\F$. However, much care will be required when
dealing with a hierarchy of truth predicates and the transfinite iterations of
T-Intro caused by the interaction between axioms \Uni\eta and \Rep\eta.
% The bounds obtained,
% however, will not be optimal and in \cref{sec:Fbupper2} we modify the
% analysis obtaining optimal bounds. Lower bounds on the strength of the theories
% $\HST_\beta$ will be determined in \cref{sec:Fblower} by extending the
% well-ordering previously results established for $\theory S_2$ and $\theory
% S_3$.

The axiom \Del\eta implies the interpretation of the predicate $\T_\eta$ is closed under \textT\xi-Elim for every $\xi\le\eta$. Likewise (\Rep\eta) implies $\T_\eta$ is closed under \textT\xi-Intro for each $\xi<\eta$. 
From this observation we may deduce the following propositions. %, in which $\Prov_\eta$ abbreviates the formalised provability predicate for $\HST_\eta$.

\begin{proposition}\label{nec-and-conec}
	$\HST_\beta$ is closed under (\Conec\eta) for every \( \eta < \kappa \) and under (\Nec\eta) for every $\eta<\beta$.
\end{proposition}
\begin{proof}
	Let \( A \) be a sentence.
	If \( \T_\eta \gn A \) is a theorem of \( \HST_\beta \) then so is \( \T_\beta\gn{ \T_\eta \gn A } \) (\Nec\beta), \( \T_\beta \gn A \) (\Del\beta), whence \( A \) (\Conec{\beta}).
	The converse implications hold if \( \eta < \beta \).
\end{proof}


\begin{proposition}\label{global-reflect}
	\( \HST_\beta^1\proves \forall \eta < \bar \beta \forall x( \Prov_{\HST_\eta}(x)\land\Sent_{\L_\kappa}(x)\rightarrow \T_\beta x) \).
\end{proposition}
\begin{proof}
	All axioms of $\HST_\eta$ are axioms of $\HST_\beta^0$ and, by (\Nec\beta), we have
	\begin{align*}
	  \HST_\beta^1\proves \forall x( \form{Ax}_{\eta}(x)\land\Sent_{\L_\kappa}(x)\rightarrow \T_\beta x ),
	\end{align*}
	where $\form{Ax}_\eta(x)$ expresses that $x$ is a non-logical axiom of $\HST_\eta$.
	To complete the proof, we observe that the axioms
	(\Imp\beta), (\Del\beta), (\Rep\beta) 
	internalise the rules of {modus ponens}, (\Conec\eta) and (\Nec\eta) of $\HST_\eta$, respectively.
\end{proof}

% $\HST_0$ is the same as the theory $\F$: by renaming all instances of the
% predicate $\T$
% to $\T_0$ (even under the truth predicate) one can view $\BaseT$ as a sub-theory
% of $\PA_0+\mathrm{Ax}_0+\text{\textT0-Imp}$. The remaining axioms of $\HST_0$ are
% now exactly those of $\F$.\footnote{Note that (\ref{ax:rep}) is vacuous
% in
% the case $\eta=0$.}
% We argue that the theories $\HST_\beta$ for $\beta<\kappa$ capture the informal
% idea of iterating the ``operation induced by $\F$''. For example $\forall x,
% y(\T(x)\land \T(x\dimplies y)\rightarrow  \T(y))$ can bee seens as formalising the
% closure
% of $\PRA$ (formulated in the language including $\T$) under \emph{modus ponens};
% thus $\F(\PRA)$ should be recognised as $\F$, as should $\HST_0$. In this sense,
% it is also not difficult to see $\HST_{\beta+1}$ as intertranslatable with
% $\F(\HST_\beta)$: (\ref{ax:del}) and (\ref{ax:rep}) correspond to
% the
% formalised rules of \textT\xi-Intro and \textT\xi-Elim for $\xi<\beta$,
% available in $\HST_\xi$ (and in the case of (\ref{ax:del}) also
% \Del\beta in $\F(\HST_\beta)$. For limit ordinals $\lambda$, $\HST_ \lambda$
% can be recognised as $\F(\bigcup_{\xi<\lambda}\HST_\xi)$.
% \begin{remark}
%   \begin{enumerate}
% 	\item $\HST_\eta^-$ is actually in the language of PA with one additional
% predicate $\T_\eta$. How do we want to deal with this?
% 	\item (\ref{ax:rep}) implies \Del\eta.
% 	\item It is important to note that the above definition only makes sense if
% we have a notation system for all ordinals below $\beta$.
% 	\item We observe that, due to the presence of (\Nec\eta) $\HST_0$
% contains $Base_{\T_0}$ and hence for each $\eta$  $\HST_\eta$ contains
% $Base_{\T_\eta}$.
%   \end{enumerate}
% \end{remark}
% \subsection{Ordinals}
\section{Consistency}\label{sec:Fbconsis}
At first glance the theory $\HST_\beta$ could easily look suspect, after all it
contains \Del\eta, \Conec\eta, \Nec\eta and an axiom that appears
extremely close to \textT\eta-Rep, for each $\eta\le\beta$.
% This quadruple is inconsistent over
% $\BaseT$, as was shown by Friedman and Sheard \cite{FS87} (see also
% \cref{chap:intui}, \cref{intlem:LoebsTheorem}).
As the motivation behind the
theories $\HST_\beta$ comes from abstracting the transition from $\PA$ to
$\F$ one might expect that if $\HST_\beta$ is consistent, models of $\HST_\beta$
may be constructed by extending models
of $\F$. This is indeed the case; moreover, the extension we defined for
establishing the consistency of $\theory S_3$ makes a suitable base from which to start the construction. We will only sketch the consistency argument as it will be subsumed
by our work in \cref{sec:Fbupper1} where we determine an upper bound on the
proof-theoretic strength of $\HST_\beta$.

% Recall that by $\kappa$ we denote the Howard-Bachmann ordinal
% $\vartheta(\Omega\cdot\varepsilon_{\Omega+1}0$.
Let $\Omega$ denote the first uncountable ordinal. For the remainder of this
section Greek letters, $\rho$, $\sigma$, $\tau$ will be used to range over
elements of $\On$, the class of all ordinals; letters $\alpha$, $\beta$, etc., will
range over countable ordinals; we reserve the letters $\eta$, $\xi$ for
indices of the truth predicates and so represent ordinals below $\kappa$.
Suppose
\begin{align*}
  \rho=\Omega^{\alpha_0}\cdot\beta_0+\dots+\Omega^{\alpha_n}\cdot\beta_n,
\end{align*}
 with $\alpha_0>\dots>\alpha_n$ and $\beta_i<\Omega$ for each $i\le n$. We denote by $\rho|_\gamma$ the ordinal
$\Omega^{\alpha_0}\cdot\beta_0+\cdots+\Omega^{\alpha_k}\cdot\beta_k$ where $k<n$
is the least such that $\alpha_k>\gamma\ge\alpha_{k+1}$, or $k=n$ if
$\alpha_n>\gamma$. An ordinal $\rho$ is called an \emph{$\Omega$-limit} if $\rho=\rho_0+\Omega^\eta\cdot\alpha$ and either $\alpha$ or $\eta$ is a
limit ordinal.
% Whether or not an ordinal $\rho$ is an $\Omega$-limit will be key as to
% when we are dealing with a theory $\FF_{<\rho}^*$ closed under $\omega$-logic.

\begin{definition}[Sequent]
	Let \( \kappa \in \On \) be fixed. 
	A (\( \kappa \)-)sequent is an expression \( \Gamma \sa A \) where \( \Gamma \cup \{ A \} \) is a finite of sentences of \( \L_\kappa \).
\end{definition}

\begin{definition}[Semiformal calculus]
For each $\rho\in\On$, a Tait-style sequent calculus \( \proves_\rho \) is introduced for \( \kappa \)-sequents, defined by the following rules.\gelhighlight{One- or two-sided?}
\begin{itemize}
 \item Ax.1. $\proves_\rho \Gamma \sa A$ whenever $A$ is a true atomic literal,
 \item Ax.2$_\eta$. $\proves_\rho  \Gamma , \T_\eta s \sa \T_\eta s$ for every closed term $s$ and $\eta<\kappa$,
 \item Ax.3$_\eta$. $\proves_\rho  \Gamma , \T_\eta s \sa A$ if $s^\N$ is not the code of an $\L_\kappa$-sentence.
 \item The usual arithmetical rules for $\land$, $\lor$ and $\exists$, 
\item The $\omega$ rule: 
	\begin{prooftree}
	\hypo{\proves_\rho \Gamma \sa A(\nm n) \quad \text{for every } n < \omega }
	\infer1[$\omega$]{\proves_\rho  \Gamma \sa \forall xA(x)}
  \end{prooftree}
 \item The following six rules for every $\eta<\kappa$.
 \begin{itemize}
\item [\normalfont\Imp\eta]
	\begin{prooftree}
	\hypo{\proves_\rho \Gamma \sa \T_\eta s }
	\hypo{\proves_\rho \Gamma \sa \T_\eta({s \dimplies t})}
	\infer2[\Imp{\eta}]{\proves_\rho  \Gamma \sa \T_\eta t}
  \end{prooftree}
\item [\normalfont\Del\eta]
	\begin{prooftree}
	\hypo{\proves_\rho \Gamma \sa \T_\eta (\gn{\T_\xi s})}
	\hypo{\xi < \beta}
	\infer2[\Del{\eta}]{\proves_\rho  \Gamma \sa \T_\eta s}
  \end{prooftree}
\item [\normalfont \Rep\eta]
	\begin{prooftree}
	\hypo{\proves_\rho \Gamma \sa \T_\eta s }
	\hypo{\xi < \eta }
	\infer2[\Rep{\eta}]{\proves_\rho \Gamma \sa \T_\eta (\gn{\T_\xi s})}
  \end{prooftree}
\item [\normalfont \Nec\eta]
	\begin{prooftree}
	\hypo{\proves_\sigma  \Gamma \sa A }
		\hypo{\sigma < \rho |_\eta }
	\infer2[\Nec{\eta}]{\proves_\rho  \Delta , \T_\eta \gn\Gamma \sa \T_\eta \gn A }
  \end{prooftree}
\item [\normalfont\Uni\eta]
	\begin{prooftree}
	\hypo{\proves_\rho  \Gamma \sa  \T_\eta \gn{A(\nm n)} \text{ for all \( n \)}}
	\hypo{\rho |_\eta \text{ not an $\Omega$-limit}}
	\infer2[\Uni{\eta}]{\proves_\rho  \Gamma \sa \T_\eta \gn{\forall xA(x)} }
  \end{prooftree}
  \end{itemize}
\end{itemize}
\end{definition}
Moreover, for each $\rho$ define the set of $\L_\kappa$-sentences
\begin{align*}
	\FF_{<\rho}=\{ A:{}\proves_\sigma  {} \sa A\text{ for some $\sigma<\rho$}\}.
\end{align*}

Before we proceed with analysing the role of the truth predicates in
$\FF_\rho$, it is important to note that a rule of \emph{modus ponens}, or cut
is lacking from our definition. However, it is not hard to show the cut rule is
admissible: a derivation of
the form $ \T_\eta s , \Gamma \sa A $ with $ \T_\eta s$ principal \emph{must} be an
instance of an axiom, hence given derivations of $ \T_\eta s , \Gamma \sa A $
and $\Delta \sa \T_\eta s $ one can easily obtain instead a derivation of $\Gamma$.
This argument is essentially identical to that employed in the Cut Elimination
theorem in \cite{LeiRat10} for the analysis of the theory $\F$ (see \cite[Thm.~3.7]{LeiRat10}).
\begin{lemma}[Admissibility of cut]\label{thm:FFCutElim}
	Suppose $\proves_\rho \Gamma \sa \T_\eta s $, and $\proves_\rho \Delta,
  \T_\eta s  \sa A $. Then $\proves_\rho \Gamma,\Delta \sa A$.
\end{lemma}

If $\rho<\Omega$, then $\rho|_0=0$ and so no applications the rule \Nec\eta{} is available in $\proves_\rho $ for any $\eta$. 
Thus, $\FF_{\mathord<\Omega}$ is trivially closed under \Conec\eta{} for every $\eta$. \gelhighlight{Simple but not `trivial'}
Moreover, for every
$\rho<\Omega$, only applications of \Nec{0} have been permitted in $\proves_{\Omega\cdot\rho}$. Thus, we can
establish by induction on $n<\omega$ that in derivations in $\proves_{\Omega\cdot n}$ the predicate $\T_0$ may be interpreted by the $\FF_{<\Omega\cdot n}$ which happens to be closed under \Conec0.
Since all other truth predicates that can occur in $\proves_{\Omega\cdot n}$-derivable sequents may be interpreted vacuously, we conclude $\proves_{\Omega\cdot n}$ is closed under
\Conec\eta\ for every $\eta<\kappa$. 
Hence $\HST_0^n$ may be interpreted
in $\FF_{\Omega\cdot n}$.

This suggests that for $n<\omega$, $\FF_{\Omega\cdot n}$, like $\FF_n$, reconstructs
the theories $\Th_n$ used by Friedman and Sheard to prove the consistency of
$\F$. At the first limit ordinal,
we obtain $\FF_{<\Omega\cdot\omega}$, a set of $\L_\kappa$-sentences closed under
\Nec{0} and \Conec0, and containing \Del{0}, \Rep{0} (which holds vacuously) and all other axioms of $\HST_0$.

To proceed with the analysis of $\HST_1$, we first consider $\HST_1^0$ which, without
the rule \Nec{1}, is vacuously closed
under \Conec{1} and $\lnot$\Conec{1}. In $\HST_1^1$, the situation differs
from previous case; we need to interpret the predicate $\T_1$ as a theory closed
under $\omega$-logic (due to \Uni{1}), \Nec{0} (due to \Rep{1}),
\Conec0 and \Conec{1} (due to \Del{1}). Moreover, we need to find an interpretation of $\T_0$ closed under $\omega$-logic, \Conec0, and now also \Conec{1} (as
implied by the axiom \Del{0}). The properties we established for the set
$\FF_{<\Omega}$
in \cref{sec:S3consis} motivate us to consider $\FF_{<\Omega^2}$, a set
closed under \Nec{0}, \Conec0 and, by a
similar argument as before, $\omega$-logic ({\emph{cf.}~the proof of
\cref{thm:S3consistent}}). For every $\alpha<\Omega$, the predicate
$\T_1$ may be interpreted vacuously in $\FF_{<\Omega\cdot\alpha}$, so
$\FF_{<\Omega^2}$ is also closed under \Conec{1}. Thus $\FF_{<\Omega^2}$
provides a consistent interpretation of both predicates $\T_0$ and $\T_1$ in
$\HST_1^1$.

The next step is to consider $\T_1$ in $\HST_1^2$. Two applications of
\Nec{1} are permitted and one can derive sentences of the form $\T_1(\gn{\T_1(\gn A)})$
whenever $\HST_1^0\proves A$,  suggesting a
shift to $\FF_{\Omega^2}$, where one can derive $\T_1(\gn A)$ whenever
$A\in\FF_{<\Omega^2}$, might yield a suitable interpretation for $\T_1$. However,
$\FF_{\Omega^2}$ is not closed under \Nec{0} (only the systems
$\FF_{<\rho+\Omega\cdot \sigma}$ for limit ordinals $\sigma$ are), leading us instead to consider
$\FF_{<\Omega^2+\Omega\cdot\omega}$ which is closed under \Nec{0}, but not
$\omega$-logic; there will be sentences $A\in\FF_{<\Omega^2}$ for which
$\FF_{\Omega^2+\Omega\cdot n}\proves \T_0(f(n,\gn A))$ for each $n<\omega$, where
$f(0,n)=\gn{\bar n}$ and $f(m+1,n)=\gn{\T_0({f(m,n)})}$, but the sentence $\forall x\,
\T_0(f(x,\gn A)$ is not contained in $\FF_{<\Omega^2+\Omega\cdot\omega}$. Indeed to obtain
both closure under $\omega$-logic and \Nec{0} we must move to the theory
$\FF_{<\Omega^2\cdot2}$. We also require the interpretation to be closed under
\Conec0. To manage this we repeat the same argument as before, but starting
from $\FF_{\Omega^2}$ in place of $\FF_{\Omega}$. We know $\FF_{\Omega^2}$ is closed
under \Conec0 since the predicate $\T_0$ can be consistently interpreted
as the set $\FF_{<\Omega^2}$. This leads us to successively deduce the theories
$\FF_{\Omega^2+\Omega\cdot n}$ are closed under \Conec0 for each
$n<\omega$. Note, we can still interpret $\T_1$ in $\FF_{\Omega^2+\Omega\cdot n}$ by the set
$\FF_{<\Omega^2}$  as there has been no further
applications of \Nec{1}. In $\FF_{\Omega^2+\Omega\cdot \omega}$ we aim to interpret
$\T_0$ by $\FF_{<\Omega^2+\Omega\cdot \omega}$, which unlike $\FF_{\Omega^2+\Omega\cdot n}$ is not closed
under $\omega$-logic; however, $\FF_{\Omega^2+\Omega\cdot \omega}$ is not closed under
(\Uni{1}) so this does not pose a problem. Thus we
may continue through the construction of $\FF_{<\Omega^2\cdot2}$ determining
each theory $\FF_{\Omega^2+\Omega\cdot \alpha}$ for $\alpha<\Omega$ is closed under
\Conec0.

The argument above highlights that the predicates $\T_1$ and $\T_0$ in $\HST_1^n$ may be
interpreted as the set $\FF_{<\Omega^2\cdot n}$, and hence $\HST_1$ naturally
embeds into $\FF_{<\Omega^2\cdot\omega}$. If we wanted to proceed beyond this
and construct models for $\HST_2$, we could imagine constructing a sequence of
systems
\begin{center}
  %\text{
  $\FF_{\Omega^2\cdot\omega}$, $\FF_{\Omega^2\cdot\omega+\Omega}$, \dots,
  $\FF_{\Omega^2\cdot\omega+\Omega\cdot \alpha}$, \dots,\,
  $\FF_{\Omega^2\cdot(\omega+1)}$, \dots,
  $\FF_{\Omega^2\cdot\alpha}$, \dots%}
\end{center}
to obtain $\FF_{<\Omega^3}$,
an interpretation of the predicate $\T_2$ in $\HST_2^1$. The ability to recognise
each theory $\FF_{\Omega^2\cdot\alpha+\Omega\cdot \gamma}$ as closed under \Conec{1} and
\Conec0, however, is essential for the interpretation of \textT2-Del in
$\HST_2^1$. As already argued, the set $\FF_{<\Omega^2\cdot\alpha+\Omega\cdot \gamma}$
provides an interpretation of $\T_0$ in $\FF_{\Omega^2\cdot\alpha+\Omega\cdot \gamma}$; but
unless $\gamma$ is a limit ordinal, this need not be closed under \Nec{0}, so cannot
interpret the predicate $\T_1$. The answer is to interpret $\T_1$ in
$\FF_{\Omega^2\cdot\alpha+\Omega\cdot \gamma}$ as the set
$\FF_{<\Omega^2\cdot\alpha}$ for \emph{every} $\gamma<\Omega$. Only when we
pass to $\FF_{\Omega^2\cdot(\alpha+1)}$ do we alter the
interpretation of $\T_1$ (in this case it is changed to the set
$\FF_{<\Omega^2\cdot(\alpha+1)}$). It is for exactly this reason that the rule
\Uni\eta was restricted so as to apply to $\FF_\rho$ only if
$\rho|_\eta$ is not an $\Omega$-limit; the set $\FF_{<\Omega^2\cdot\alpha}$ will
not be closed under $\omega$-logic if $\alpha$ is a limit ordinal.

Once one has constructed $\FF_{<\Omega^3}$ and verified that it is closed
under \textT n-Elim for $n=0,1,2$, one would then embark on the construction of
a further sequence of systems
\begin{center}
$\FF_{\Omega^3}$,  \dots, %\FF_{\Omega^2+\alpha}, \dots,
$\FF_{\Omega^3+\Omega\cdot \alpha}$, \dots, %$\FF_{<\Omega^3+\Omega^2}$,
$\FF_{\Omega^3+\Omega^2}$, \dots, $\FF_{\Omega^3+\Omega^2\cdot2}$, \dots,
$\FF_{\Omega^3+\Omega^2\cdot\alpha}$, \dots, $\FF_{\Omega^3\cdot2}$, \dots
\end{center}
and subsequently $\FF_{<\Omega^3\cdot\omega}$, a theory into which $\HST_2$ embeds.
%
In general, we expect $\HST_\beta$ to embed into $\FF_{\Omega^{\beta+1}\cdot\omega}$ for each $\beta$.

% It should be easy to see that $\FF_\delta$ is essentially identical to the
% system $\FF_\delta$ introduced in \cref{sec:S3consis} for $\delta<\Omega$.
% Moreover, if we define
% \begin{align*}
%   \FF_{<\delta}=\{ A:\FF_\beta\proves A\text{ for some
% 	$\beta<\delta$}\}
% \end{align*}
% $\FF_{<\Omega}$ is essentially $\FF_{<\Omega}$.
%
% Comparing the theories $\FF_n$ to Friedman and Sheard's model construction for
% $\F$, we expect $\FF_{<\omega}$ to contain $\HST_0$. Beyond this, $\HST_1^1$
% essentially re-axiomatises $\theory S_3$ and so we expect to be able to
% interpret the predicate $\T_1$ in $\HST_1^1$ by $\FF_{<\Omega}$. Moreover, $\T_0$
% may also be interpreted by $\FF_{<\Omega}$ in $\HST_1^1$. The step from a model
% of $\HST_1^1$ to one of $\HST_1^2$ involves first passing to $\FF_\Omega$ ...
%
% % It should also be clear that provided $\FF_\delta$
% The next proposition provides a number of technical results regarding derivations in $\FF_\delta$ are easily verified and left to the reader.
% \begin{proposition}
%  Some technical results about $\FF_\delta$.
% \end{proposition}

The next lemma deals with the task of determining the theory $\FF_\rho$ is
closed under \Conec\eta for every $\eta<\kappa$. Before that, however, we require a result on the behaviour of $\Omega$-limits.
\begin{proposition}\label{lem:ordOlimit}
 If $\rho$ is not an $\Omega$-limit and $\sigma_n<\rho$ for every $n<\omega$,
 \begin{align*}
  \sup_{n<\omega}\sigma_n<\rho.
 \end{align*}
\end{proposition}
\begin{proof}
Suppose $\rho$ is not an $\Omega$-limit and $\sigma_n<\rho$ for every $n<\omega$.
Then $\rho>0$ and there are ordinals $\rho_0,\alpha_0$ such that
$\rho=\rho_0+\Omega^{\alpha_0}\cdot\Omega$. This means we can associate an
ordinal $\delta_n<\Omega$ to each $n<\omega$ so that
$\sigma_n<\rho_0+\Omega^{\alpha_0}\cdot\delta_n$. The set
$\{\delta_n:n<\omega\}$ is a countable set of countable ordinals, and hence is
bounded in $\Omega$, whence
\[
\begin{aligned}
\sup\nolimits_{n}\sigma_n&\le\sup\nolimits_{n}\{\rho_0+\Omega^{\alpha_0}\cdot\delta_n\}\\
  &\le \rho_0+\Omega^{\alpha_0}\cdot(\sup\nolimits_{n}\delta_n)\\
  &<\rho_0+\Omega^{\alpha_0}\cdot\Omega\\
  &=\rho. 
\end{aligned}
\]
\end{proof}

A sequent $\Gamma$ is called \emph{T-positive} if all occurrences of a predicate $\T_\eta$ in $\Gamma$ for any $\eta<\kappa$ are positive. Define, for each ordinal $\rho$, an $\L_\kappa$-structure $\mathfrak{M}_\rho$ according to the following criterion.
\begin{center}
 $\mathfrak{M}_\rho\models \T_\eta s$ iff $s^\N\in\FF_{<\rho|_\eta}$.
\end{center}
\begin{theorem}[T-Elimination \namecref{lem:FFTElim}]\label{lem:FFTElim}\label{thm:FFTElim} Suppose $\rho\in\On$.
\begin{enumerate}
  \item For every T-positive sequent $\Gamma$, $\proves_\rho \Gamma$ implies
	$\mathfrak{M}_\rho\models\bigvee\Gamma$;
  \item For any $\eta<\kappa$, $\proves_\rho  \T_\eta s$ implies there is a
	sentence $A$ with $s^\N=\gn	A$ and $\proves_\rho  A$;
%  \item For any $\eta<\kappa$, $\proves_\rho  \lnot \T_\eta s$ implies there
%	is a sentence $A$ with $s^\N=\gn A$ and $\proves_\rho  \lnot A$.
\end{enumerate}
\end{theorem}
\begin{proof}
We proceed by transfinite induction on $\rho$. For (i), one has a \emph{
subsidiary} induction on the height of the derivation. The base case is easy to
deal with. For the induction step we argue according to the last rule applied in
the derivation $\proves_\rho \Gamma$. Whichever rule was applied, the sequent(s) in the premise must also be T-positive and we may apply the subsidiary induction hypothesis to them.

If the last rule was one of the arithmetical rules, that is, ($\lor_i$),
($\land$), ($\omega$) or ($\exists$),
$\mathfrak{M}_\rho\models\bigvee\Gamma$ is an immediate consequence of the
subsidiary induction hypothesis, and in the case of the weakening rule,
$\mathfrak{M}_\rho\models\bigvee\Gamma$ follows from the fact that $\Gamma$ is
T-positive. If the last applied rule was \Nec\eta, $\T_\eta(\gn A)$ is
contained in $\Gamma$ and $\proves_\sigma  A$ for some % $\sigma$ such that
% $\sigma+\Omega^\eta\le\rho$, whence $\sigma+\Omega^\eta\le\rho|_\eta$ and
$\sigma<\rho|_\eta$, so $\mathfrak{M}_\rho\models \T_\eta(\gn A)$.
For the remaining rules, the subsidiary induction hypothesis implies
$\mathfrak{M}_\rho\models\bigvee\Gamma\lor(A_0\land A_1)$ for some suitable
choice of $A_0$, $A_1$.
% \footnote{The choice of two active premises is to manage
% the case in which the last rule applied was \Imp\eta. If any other rule was applied
% we may take $A_0$ identical to $A_1$.} 
Of course, if
$\mathfrak{M}_\rho\models\bigvee\Gamma$ we are done, so we may assume
$\mathfrak{M}_\rho\models A_0\land A_1$.
% along with one of following observations.\footnote{We omit
% some of the details as the argument employed here is essentially a simplified
% version of the proof of \cref{soundness-thm} in the next section.}
\begin{description}\renewcommand*\labelitemi{--}%
%  \item[(Cut).] In the case the last rule applied was (Cut),
%  \item [(Weakening).]
%  \item [(\Nec\eta).] Under the assumption that \Nec\eta was
% the last applied rule, one
\item [\normalfont{}\Imp\eta.] If the last rule applied was \Imp\eta, we may
  assume $A_0$ is $\T_\eta(s_0)$ and $A_1$ is $\T_\eta(s_0\dimplies s_1)$, while
  $\Gamma$ contains $\T_\eta(s_1)$. By the above, we may assume
  $\mathfrak{M}_\rho\models \T_\eta(s_0)\land \T_\eta(s_0\dimplies s_1)$. Thus,
  $s_0^\N$ and $s_1^\N$ are Gödel numbers of $\L_\kappa$-sentences, say $B_0$
  and $B_1$ respectively, and there is some $\sigma<\rho|_\eta$ so
  that $\proves_\sigma  B_0$ and $\proves_\sigma \lnot B_0,B_1$.
  Admissibility of the cut rule (\cref{thm:FFCutElim}) yields $\proves_\sigma  B_1$, and hence
  $\mathfrak{M}_\rho\models \T_\eta(s_1)$.
\item [\normalfont\Del\eta.] In the case the last applied rule is \Del\eta,
  we may identify $A_0$ as $\T_\eta(\gn{\T_\xi s})$ for some $\xi<\kappa$
  and  term $s$; moreover, $\T_\eta s$ is contained in $\Gamma$.
  $\mathfrak{M}_\rho\models \T_\eta(\gn{\T_\xi s})$ implies $\proves_\sigma 
  \T_\xi s$ for some $\sigma<\rho|_\eta$. Since $\sigma<\rho$, the
  \emph{ main} induction hypothesis may be applied, whence $s^\N=\gn A$ for some $A$
  and  $\proves_\sigma  A$. Thus $\mathfrak{M}_\rho\models \T_\eta s$ and
  $\mathfrak{M}_\rho\models\bigvee\Gamma$.
\item [\normalfont{}\Rep\eta.] Here we have $\mathfrak{M}_\rho\models \T_\eta s$ and
  $\T_\eta(\gn{\T_\xi s})$ is in $\Gamma$ for some $\xi<\eta$. By definition this
  implies $s^\N=\gn A$ for some sentence $A$ and $\proves_\sigma  A$ for some
  $\sigma<\rho|_\eta$, whence $\FF_{\sigma+\Omega^{\xi+1}}\proves \T_\xi s$ is
  derivable. But since $\xi<\eta$ and $\sigma<\rho|_\eta$, we have
  $\sigma+\Omega^{\xi+1}<\rho|_\eta$, and so $\mathfrak{M}_\rho\models \bigvee\Gamma$.
%\item [\normalfont{}$\lnot$\Del\eta.] This case is similar to
%  \Del\eta above; by the main induction hypothesis we know, for every $\sigma<\rho$ and $\xi<\kappa$, that $\FF_\sigma$
%  is closed under $\lnot$\textT\xi-Elim, thus
%  $\mathfrak{M}_\rho\models \T_\eta(\gn{\lnot \T_\xi s})$ implies
%  $\mathfrak{M}_\rho\models \T_\eta(\dlnot s)$ as desired.
\item [\normalfont{}\Uni\eta.] The assumption is that
  $\mathfrak{M}_\rho\models\forall x\,\T_\eta(\gn{A(\dot x)})$. This entails the
  existence of, for every $n<\omega$, an ordinal $\sigma_n<\rho|_\eta$ such that
  $\FF_{\sigma_n}\proves A(\bar n)$. Weakening and the $\omega$-rule yields
  $\proves_\sigma  \forall x\,A(x)$, where $\sigma=\sup_n{\sigma_n}$, but
  one need not in general have $\sigma<\rho|_\eta$.\footnote{For example,
  suppose $\rho|_\eta=\rho_0+\Omega^\xi$ and $\xi$ is a limit ordinal. If
  $\sigma_n= \rho_0+\Omega^{\xi_n}$, where $\xi=\sup_n\xi_n$ and
  $\xi_n<\xi$ for every  $n<\omega$, one has $\sigma_n<\rho|_\eta$, but
  $\sup_n\sigma_n=\rho|_\eta$.} Due to the restriction on applications of
  \Uni\eta, however, $\rho|_\eta$ is not an $\Omega$-limit,
  thus by \cref{lem:ordOlimit}, $\sigma<\rho|_\eta$ and so
  $\mathfrak{M}_\rho\models \T_\eta(\gn{\forall xA(x)})$, whence
  $\mathfrak{M}_\rho\models\bigvee\Gamma$.
\end{description}
This completes the proof of (i).

(ii) is now a consequence of (i). If $\proves_\rho  \T_\eta s$, (i) implies
$\mathfrak{M}_\rho\models \T_\eta s$, whence $s^\N=\gn A$ for some
$\L_\kappa$-sentence $A$ and $\proves_\sigma  A$ for some
$\sigma<\rho|_\eta$. By weakening, $\proves_\rho  A$, as desired.

Observe that in the case of every rule of inference in the system $\FF_\rho$, T-positive
premises yield T-positive consequents. Therefore $\FF_\eta\proves\Gamma$ implies $\bigvee\Gamma$
is satisfied in the \emph{everything is true} $\L_\kappa$ structure, so
$\proves_\rho \lnot \T_\eta s$ is impossible and (iii) holds vacuously.
\end{proof}

% \begin{corollary}
%  The system $\FF_\rho$ is consistent for every $\rho$, that is
% \end{corollary}
\begin{proposition}\label{prop:FFembed}
 Let $A$ be any axiom of $\HST_\beta$. Then $\FF_{\Omega^{\beta+1}}\proves A$.
\end{proposition}
\begin{proof}
 One can derive each of the axioms via the corresponding rule and Ax.2$_\eta$, as in \cref{classprop:F8axF}. In the case of \Uni\eta note $\Omega^{\beta+1}|_\eta$ is not an $\Omega$-limit for any $\eta\le\beta$.
\end{proof}

\begin{theorem}\label{thm:FFconsis}
 The theory $\HST_\beta$ is consistent for every $\beta<\kappa$.
\end{theorem}
\begin{proof}
\Cref{thm:FFCutElim}, \cref{lem:FFTElim} and the previous \namecref{prop:FFembed} provide the means to deduce, by induction on $n$, that $\HST_\beta^n$ embeds into $\FF_{\Omega^{\beta+1}\cdot n}$. Thus every sentential theorem of $\HST_\beta$ is contained in $\FF_{<\Omega^\beta\cdot\omega}$. However, clearly the empty sequent is not derivable in $\FF_\rho$ for any $\rho$, so $\HST_\beta$ must be consistent.
\end{proof}
%%%%%%%%%%%%%%%%%%%% OLD CONSISTENCY %%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \begin{align*}
%  \mathrm{Th}'_{n+1}=\mathrm{Cl}_\omega(&\Base{\T_0}+\text{\textT0-Imp}+
%  \text{\textT0-$\forall$-Inf}+(\text{$\dag_0$.1})\\&{}+(\text{$\dag_0$.2})+\{
% \T_0(\gn A):A\in\mathrm{Th}'_n\}),
% \end{align*}
% where $\mathrm{Cl}_\omega(X)$ denotes the closure of the set $X$ under
% $\omega$-logic. This is the same construction used by Friedman and Sheard
% \cite{FS87} to construct a model of $\F$. For each $n$, $\pair{\mathbb N,
% \mathrm{Th}'_n}\models \HST_1^n$. Thus the set
% $\mathrm{Th}'_{\omega}:=\bigcup_{n<\omega}\mathrm{Th}'_n$ provides a model of
% $\HST_1$. To find a model of $\HST_2$ one needs to define an interpretation for each
% of the two predicates $\T_0$ and $\T_1$. Due to the inter-applicability of the
% predicates, the interpretations of $\T_0$ and $\T_1$ must both be formed in
% $\L(2)$. Hence $\mathrm{Th}'_{\omega}$ will no longer suffice as the
% interpretation of $\T_0$ in $\HST_2$. Moreover, it is not simply a matter or
% adding the axims (\textT1-Imp), etc.~to the construction of
% $\mathrm{Th}'_{\omega}$; since $\HST_2$ is closed under \Nec{0}, the whole
% of $\HST_2$ must be contained within the interpretation of $\T_0$.
%
% Let us begin by further stratifying the the theorems of $\HST_2$: denote by
% $\HST_2^{m,\,n}$ those theorems of $\HST_2$ which are provable from the axioms by
% use of  at most $m$
% applications of \Nec{1}, at most $n$ applications of \Nec{0} and any
% number of applications of \Conec0 and \Conec{1}. We note that
% $\HST_2^{m,\,n}$ is a
% sub-theory of $\HST_2^{m+1,\,0}$ for every $m$ and $n$, and
% $\HST_2^{m,\,p}\subseteq\HST_1^{m}\subseteq\HST_2^{m+1,\,q}$ for any $p$ and $q$. The
% advantage of stratifying
% the theory in this manner will become clear. It is not difficult to establish
% that $\T_1$ may be interpreted as empty in $\HST_2^0$. Furthermore, if the
% defintion of $\mathrm{Th}'_n$ were extended to also include the axioms of
% $\HST_2$, $\mathrm{Th}'_{\omega}$ would provide suitable interpretations for both
% $\T_1$ in $\HST_2^1$ and $\T_0$ in $\HST_2^0$ and $\HST_2^{1,\,0}$. Let
% $\mathrm{Ax}_\beta$ denote the set of axioms for $\HST_\beta$. If one defines
% \begin{align*}
% \mathrm{Th}'_0={}&\emptyset,\\
% \mathrm{Th}'_{\omega\cdot m+n+1}={}&\mathrm{Cl}_\omega(\mathrm{Ax}_2+\{\T_0(\gn
% A): A\in\mathrm{Th}'_{\omega\cdot m+n}\}+{}\\&\quad\quad{}+\{\T_1(\gn
% A):A\in\mathrm{Th}'_{\omega\cdot m})\}),\\
% \mathrm{Th}'_{\omega\cdot
% (m+1)}={}&\bigcup_{n<\omega}\mathrm{Th}'_{\omega\cdot m+n},
% % \mathrm{Th}'_\lambda&=\bigcup_{\eta<\lambda}\mathrm{Th}'_\eta,
% % \mathrm{Cl}_\omega(\mathrm{Ax}_2+\{\T_i(\gn A):i<2\land
% % A\in\mathrm{Th}'_{<\lambda}\}),\text{ for limit $\lambda$,}
% \end{align*}
% we see $\mathrm{Th}'_{\omega\cdot m}$ can interpret $\T_1$ in $\HST_2^{m}$ and
% $\mathrm{Th}'_{\omega\cdot m+n}$ can interpret $\T_0$ in $\HST_2^{m,\,n}$. In
% other words a model for $\HST_2$ can be obtained by interpreting \emph{both}
% predicates ($\T_0$ and $\T_1$) by the set $\mathrm{Th}'_{\omega^2}=
% \bigcup_{m<\omega}\mathrm{Th}'_{\omega\cdot m}$.
%
% In the general case, suppose $\beta$ is a countable ordinal. Define, by
% transfinite recursion the sets $\mathrm{Th}_\alpha$ as follows.
% \begin{align*}
%   \mathrm{Th}_0=&\mathrm{Cl}_\omega(\mathrm{Ax}_\beta),\\
%   \mathrm{Th}_{\alpha}=&\mathrm{Cl}_\omega(\mathrm{Ax}_\beta+\{\T_\xi(\gn A):
% \exists\eta<\alpha(\eta+\omega^\xi<\alpha\land A\in\mathrm{Th}_{\eta})\}).
% \end{align*}
% One can determine that, if $\alpha\le\beta$,
% $\mathrm{Th}_\alpha\subseteq\mathrm{Th}_\beta$, and moreover, by interpreting
% every predicate in $\L(\beta)$ by the set $\mathrm{Th}_{\omega^\beta}$, one
% obtains a model of $\HST_\beta$. This construction also leads us to see that
% $\T_{\eta+1}(x)$ can be thought of as denoting $\exists n\, \T_\eta(\dot
% f_\eta(n,x))$ where $f_\eta$ denotes the primitive recursive function defined
% via $f_\eta(0,\gn A)=x$, and $f_\eta(n+1,\gn A)=\gn{\T_\eta(\gn A)}$. Thus
% $\HST_\beta\mapsto\HST_{\beta+1}$ can be seen as a step in a reflection process.
%%%%%%%%%%%%%%%%%%%%%%%%%% END OLD CONSISTENCY %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{An ordinal notation system for impredicative theories} \label{sec:moreordinals}
To carry out an ordinal analysis of $\HST_\beta$ we require the current
set of ordinal terms, $\OT$, to be extended to cover a larger segment of the
ordinals. We will make use of an ordinal notation system for the Bachmann-Howard
ordinal introduced by Rathjen and Weiermann \cite{RW93}. This
ordinal has proved significant in
the analysis of certain impredicative systems such as the theory of inductive
definitions, $\theory{ID}_1$ \cite{BFPS81}. It will turn out that the theories $\HST_\beta$ are
substantially weaker than $\theory{ID}_1$, but this notation system is still a
natural one to consider. The key to generating notations for characteristic
ordinals beyond $\Gamma_0$ is the use of constructions referencing certain
`external points'. In our case the `external point' will be $\Omega$, the first
uncountable ordinal.

In order to generate unique representations for ordinals we will introduce a
normal form for non-$\varepsilon$-ordinals, based on the Cantor normal form.
We write $\alpha=_\NF\omega^\gamma+\delta$ if $\alpha=\omega^\gamma+\delta$ and either $\delta=0$ and
$\gamma<\alpha$, or $\delta=\omega^{\delta_1}+\cdots+\omega^{\delta_k}$,
$\gamma\ge\delta_1\ge\ldots\ge\delta_k$ and $k\ge1$. Let $\varepsilon_{\Omega+1}$
be the first $\varepsilon$-ordinal larger than $\Omega$. For each
$\alpha<\varepsilon_{\Omega+1}$ we denote by $\alpha^*$ the largest $\varepsilon$-ordinal
below $\Omega$ used in the normal form presentation for $\alpha$; that
is,
\begin{enumerate}
 \item $0^*=\Omega^*=0$,
 \item $\alpha^*=\alpha$, if $\alpha<\Omega$ is an $\varepsilon$-ordinal,
 \item $\alpha^*=\max\{\gamma^*,\delta^*\}$, if $\alpha=_\NF\omega^\gamma+\delta$.
\end{enumerate}

\gelhighlight{[Elaborate that the following is constructive.]}

Define sets of ordinals $C_k(\alpha,\beta)$, and a function $\vartheta\colon\On\to\Omega$ by transfinite recursion on $\alpha\in\On$ as follows.
\begin{itemize}
 \item [(C1)] $\{0,\Omega\}\cup\beta\subseteq C_k(\alpha,\beta)$,
 \item [(C2)] $\gamma$, $\delta\in C_k(\alpha,\beta)$ and $\xi=_\NF\omega^\gamma+\delta$ implies $\xi\in C_{k+1}(\alpha,\beta)$,
 \item [(C3)] $\xi\in C_k(\alpha,\beta)$ and $\xi<\alpha$ implies $\vartheta\xi\in C_{k+1}(\alpha,\beta)$,
 \item [(C4)] $C(\alpha,\beta)=\bigcup_{k<\omega} C_k(\alpha,\beta)$,
 \item [($\vartheta$1)] $\vartheta\alpha=\min\{\xi<\Omega: C(\alpha,\xi)\cap\Omega\subseteq\xi\,\land\,\alpha\in C(\alpha,\xi)\}$.
\end{itemize}
The next two propositions shed some light on the role the function
$\vartheta$ plays in generating intitial segments of $\On$.
\begin{proposition}\label{prop:theta1}
 $\vartheta\alpha$ is defined for every $\alpha<\varepsilon_{\Omega+1}$.
\end{proposition}
\begin{proof}
 Let $\gamma_0=\alpha^*+1$. By rules (C1) and (C2) we may deduce $\alpha\in C(\alpha,\gamma_0)$. Suppose $\gamma_k<\Omega$ has been defined. As $C(\alpha,\gamma_k)$ has a countable definition, it contains only countably many elements; thus $C(\alpha,\gamma_k)\cap\Omega$ is bounded in $\Omega$. Let $\gamma_{k+1}<\Omega$ be such that $C(\alpha,\gamma_0)\cap\Omega\subseteq\gamma_{k+1}$ and define $\gamma=\sup_{k<\omega}\gamma_k$. Since $\{\gamma_k:k<\omega\}$ is a countable set of countable ordinals, it too must be bounded in $\Omega$, so $\gamma<\Omega$. Since $\alpha<\gamma_0\le\gamma$, also $\alpha^*\in C(\alpha,\gamma)$. Finally,
 \begin{align*}
  C(\alpha,\gamma)\subseteq\bigcup_{n<\omega}C(\alpha,\gamma_n),
 \end{align*}
 so $C(\alpha,\gamma)\cap\Omega\subseteq \gamma$ and $\vartheta\alpha\le\gamma$ by ($\vartheta$1).
\end{proof}

The argument in the proof above provides a means to approximate the ordinal $\vartheta\alpha$ from below. Define $\gamma_0=\alpha^*+1$ and $\gamma_{m+1}=\min\{\xi<\Omega:C(\alpha,\gamma_m)\cap\Omega\subseteq\xi\}$; then $\vartheta\alpha\le\sup_{m}\gamma_m$. By (C2) it is clear that each $\gamma_m$ is a limit ordinal, whence we may deduce
\begin{align*}
 [(\forall\delta\in C(\alpha,\gamma_m)\cap\Omega)\forall\xi<\delta\,F(\xi)]\rightarrow \forall\delta<\gamma_{m+1}\,F(\delta)
\end{align*}
for every formula $F$.

The function $\vartheta$ works by ``collapsing'' ordinals below $\varepsilon_{\Omega+1}$ into countable ordinals, thus allowing one to represent ordinals beyond $\Gamma_0$. Moreover, the condition ``$\alpha\in C(\alpha,\xi)$''
in ($\vartheta$1) ensures the function $\alpha\mapsto\vartheta\alpha$ is
strictly increasing on $\Omega$. Thus, unlike the Veblen functions
$\varphi_\alpha$, one never has $\vartheta\beta=\vartheta\vartheta\beta$. In the following proposition we show $\vartheta$ is in fact injective on $\varepsilon_{\Omega+1}$ and show that relation `$\alpha<\beta$' may be decided purely on the normal form presentation for $\alpha$ and $\beta$.
\begin{proposition}\label{prop:thetaitems1} For all ordinals $\alpha$, $\beta$ and $\gamma$ the following holds.
\begin{enumerate}
  \item $\alpha\in C(\alpha,\vartheta\alpha)$,
  \item $\vartheta\alpha=C(\alpha,\vartheta\alpha)\cap\Omega$ and $\vartheta\alpha\not\in C(\alpha,\vartheta\alpha)$,
  \item $\vartheta\alpha$ is an $\varepsilon$-ordinal,
  \item $\gamma\in C(\alpha,\beta)$ if and only if $\gamma^*\in C(\alpha,\beta)$,
  \item $\alpha < \vartheta\beta $ if and only if $\alpha < \Omega$ and $ \alpha^* < \vartheta\beta $,
  \item $\alpha^*<\vartheta\alpha$,
  \item $\vartheta\alpha=\vartheta\beta$ if and only if $\alpha=\beta$,
  \item $\vartheta\alpha<\vartheta\beta$ if and only if $(\alpha<\beta\land\alpha^*<\vartheta\beta)\lor (\beta<\alpha\land\vartheta\alpha\le\beta^*)$.\label{itm:theta-comp}
  \item If \( \alpha <^* \beta \) then \( \vartheta \alpha < \vartheta \beta \).\label{itm:theta-mono} \gelhighlight{Useful: switch with \#8}
%   \item $\gamma<\delta\in C(\alpha,\beta)\cap\Omega$ implies $\gamma\in C(\alpha,\beta)$.
%   \ivartheta\alpha <\vartheta\beta$.\label{item:morditem5}
\end{enumerate}
\end{proposition}
\begin{proof}\gelhighlight{Update numbering}
\Cref{prop:theta1} ensures $\vartheta\alpha$ is defined for every
$\alpha<\varepsilon_{\Omega+1}$, so (i) is a direct consequence of ($\vartheta$1). By (C1),
$\vartheta\alpha\subseteq C(\alpha,\vartheta\alpha)$ whence (ii) also follows
from ($\vartheta$1). (ii) then implies (iii) since, as a result of (C2),
$\gamma<\vartheta\alpha$ only if $\omega^\gamma<\vartheta\alpha$.

(iv). Suppose $\gamma\in C_k(\alpha,\beta)$. If $k=0$, $\gamma^*\in C(\alpha,\beta)$ is immediate by (C1), so suppose $k>0$.
% If $k=0$, $\gamma^*=0\in C_k(\alpha,\beta)$ or $\gamma^*<\beta\subseteq
% C(\alpha,\beta)$. Otherwise $k>0$ and
We show $\gamma^*\in C(\alpha,\beta)$ by
examining the normal form of $\gamma$. If $\gamma$ is either $0$ or $\Omega$,
$\gamma^*=0\in C(\alpha,\beta)$ by (C1), and if $\gamma$ is an $\varepsilon$-ordinal,
$\gamma^*=\gamma$ and we are done. Otherwise
$\gamma=_\NF\omega^{\xi}+\delta$ and $\delta,\xi\in C_{k-1}(\alpha,\beta)$. The
induction hypothesis implies $\delta^*,\xi^*\in C(\alpha,\beta)$, whence
$\gamma^*\in C(\alpha,\beta)$. The converse direction holds by a similar argument.

(v) is an immediate consequence of (iv) and (ii); (vi) holds on account of (i),
(ii) and (iv). To show (vii) suppose $\vartheta\alpha=\vartheta\beta$ but
$\alpha<\beta$. Then $C(\alpha,\vartheta\alpha)\subseteq
C(\beta,\vartheta\beta)$, so $\alpha\in C(\beta,\vartheta\beta)$ by (i), whence
$\vartheta\alpha\in C(\beta,\vartheta\beta)\cap\Omega$ by (C3). Thus
$\vartheta\beta\in C(\beta,\vartheta\beta)\cap\Omega$ contradicting (ii).

(viii). Assume $\alpha<\beta$. By (vi), $\vartheta\alpha<\vartheta\beta$ implies $\alpha^*<\vartheta\beta$. Also $\alpha^*<\vartheta\beta$ implies $\alpha^*\in C(\beta,\vartheta\beta)$, whence $\vartheta\alpha\in C(\beta,\vartheta\beta)\cap \Omega$ and so $\vartheta\alpha<\vartheta\beta$ by (ii). Thus
\begin{align}\label{eqn:theta1.1}
 \alpha<\beta\rightarrow(\vartheta\alpha<\vartheta\beta \equi \alpha^*<\vartheta\beta).
\end{align}
Now suppose $\beta<\alpha$. By the same argument we obtain
\begin{align*}
 \beta<\alpha \rightarrow(\vartheta\beta<\vartheta\alpha \equi \beta^*<\vartheta\alpha),
\end{align*}
and so, by (vii),
\begin{align}\label{eqn:theta1.2}
 \beta<\alpha \rightarrow(\vartheta\alpha<\vartheta\beta \equi \vartheta\alpha\le\beta^*).
\end{align}
Combining \eqref{eqn:theta1.2} and \eqref{eqn:theta1.1} gives (viii).
%
% (viii). By (iv) we need only consider when $\gamma$ is an $\varepsilon$-ordinal.
% Suppose $\gamma\not\in C(\alpha,\beta)$. Then $\gamma\ge\beta$ and
% $\gamma\not\in C(\alpha,\gamma)$ (unless $\gamma=\vartheta\xi$ for some
% $\beta\le\xi<\gamma$ ...?) Then $\gamma\le\delta^*\in C(\alpha,\beta)$ and there
% must be some $\xi\in C(\alpha,\beta)\cap\alpha$ such that
% $\delta^*=\vartheta\xi$. If $\gamma=\xi$ we are done and if $\gamma>\xi$
% (ix). $\vartheta\beta<\Omega$ for every $\beta<\varepsilon_{\Omega+1}$. If $\alpha<\vartheta\beta$, $<\Omega\le\beta$, $\gamma^*<
% \vartheta\beta$ and hence $\vartheta\gamma<\vartheta\beta$ by
% \cref{prop:mordmain}\ref{item:mordtheta}.
\end{proof}
We can now proceed with defining a primitive recursive set of ordinal terms for
use in the later analysis of $\HST_\beta$.
\begin{definition} Define a subset $\OT_\Omega\subseteq\N$, an encoding $\tau$
of ordinals into $\OT_\Omega$ and a rank function $\rank.$ on ordinals by
recursion according to the following rules.
\begin{enumerate}%
 \item $\tau(0)=0\in\OT_\Omega$, $\tau(\Omega)=\pair{0,1}\in\OT_\Omega$, and $\rank {0}=\rank{\Omega}=0$,
 \item If $\alpha=\vartheta\alpha_0$ and $\tau(\alpha_0)\in\OT_\Omega$, $\tau(\alpha)=\pair{1,\tau(\alpha_0)}\in\OT_\Omega$ and $\rank\alpha=\rank{\alpha_0}+1$,
 \item If $\alpha=_\NF\omega^\gamma+\delta$ and $\tau(\gamma),\tau(\delta)\in\OT_\Omega$, $\tau(\alpha)=\pair{2,\tau(\gamma),\tau(\delta)}\in\OT_\Omega$ and $\rank\alpha=\max\{\rank\gamma,\rank\delta\}+1$.
\end{enumerate}
\end{definition}
It should be noted that the definition of $x\in\OT_\Omega$ and $\rank\alpha$ are primitive recursive.

We now want to define an ordering $<_\vartheta$ on $\OT_\Omega$ such that
$\tau(\alpha)<_\vartheta\tau(\beta)$ if and only if $\alpha<\beta$. Conditions
(iii) and (vii) of \cref{prop:thetaitems1} ensures every ordinal built up
from the constants $0$, $\Omega$ and functions
$\alpha,\beta\mapsto\omega^\alpha+\beta$ and $\alpha\mapsto\vartheta\alpha$ has
a unique representation. We may therefore dispense with the
function $\tau$ and identify members of $\OT_\Omega$ with the ordinals they
represent, as was the case with $\OT$.

Define the relation $\alpha<_\vartheta\beta$ on $\OT_\Omega$ by
recursion on the value of $\rank\alpha+\rank\beta$. The conditions involved in
comparing two ordinals $\vartheta\xi_0$ and $\vartheta\xi_1$ will be taken from
(viii) of \cref{prop:thetaitems1}. Let $\alpha<_\vartheta\beta$ if and only
if one of the following conditions hold.
\begin{enumerate}
 \item $\alpha=0$ and $\beta\neq0$;
 \item $\alpha =_\NF\omega^\gamma+\delta$ and either:
 \begin{enumerate}
  \item $\beta=\Omega$ and $\gamma<_\vartheta\beta$,
  \item $\beta=_\NF\omega^{\gamma_0}+\delta_0$ and $\gamma<_\vartheta\gamma_0$, or $\gamma=\gamma_0\land\delta<_\vartheta\delta_0$, or
  \item $\beta=\vartheta\xi$ and $\gamma<_\vartheta\beta$;
 \end{enumerate}
 \item $\alpha=\vartheta\xi$ and either:
 \begin{enumerate}
  \item $\beta=\Omega$,
  \item $\beta=_\NF\omega^{\gamma}+\delta$ and $\alpha\le_\vartheta\gamma$,\footnote{Recall that if $\gamma$ is an $\varepsilon$-ordinal, $\beta=_\NF\omega^\gamma+\delta$ only if $\delta>0$, whence $\vartheta\xi<_\vartheta\beta$ if $\vartheta\xi=\gamma$.} or
  \item $\beta=\vartheta\eta$ and either, $\xi<_\vartheta\eta\land \xi^*<_\vartheta\beta$, or $\eta<_\vartheta\xi\land\alpha\le_\vartheta\eta^*$.
 \end{enumerate}
%  \item $\alpha\not<_\vartheta\alpha$ for any $\alpha\in\OT_\Omega$.
($\gamma\le_\vartheta\delta$ abbreviates $\gamma<_\vartheta\delta$ or $\gamma=\delta$.)
\end{enumerate}
Since the function $\alpha\mapsto\alpha^*$ is primitive recursive, the relation $<_\vartheta$ is also primitive recursive.
% \begin{lemma}
%  The functions $\alpha\mapsto\alpha^*$, $\alpha,\beta\mapsto\omega^\alpha+\beta$
% and $\alpha\mapsto\vartheta\alpha$ are all primitive recursive in $\OT_\Omega$.
% \end{lemma}

Before we proceed with the analysis of $\HST_\beta$, we will show how the ordinals
$\alpha\ge\Omega$ in $\OT_\Omega$ enable the generation of the $\varphi_\alpha$
functions for $\alpha<\Gamma_0$ and that $\OT_\Omega$ properly extends $\OT$.
% \begin{proposition}
% \begin{enumerate}
%  \item $\vartheta0=\varepsilon_0$,
%  \item $\vartheta\Omega=\varphi20$,
%  \item $\vartheta\Omega^2=\Gamma_0$
% \end{enumerate}
% \end{proposition}

Let $\Omega\cdot0=0$ and if $\alpha=\omega^{\alpha_0}+\dots+\omega^{\alpha_n}$
and $\alpha_0\ge\dots\ge\alpha_n$, define
\begin{align*}
  \Omega\cdot\alpha&=\omega^{\Omega+\alpha_0}+\dots+\omega^{\Omega+\alpha_n},\\
  \Omega^\beta\cdot\alpha&=\omega^{\Omega\cdot\beta+\alpha_0}+
\dots+\omega^{\Omega\cdot\beta+\alpha_n}.
\end{align*}
\begin{proposition}\label{prop:thetaord}
 $\OT_\Omega\cap \Omega$ forms an initial segment of the ordinals.
\end{proposition}
\begin{proof}
Suppose $\delta\in\OT_\Omega\cap\Omega$. We prove $\alpha\in\OT_\Omega$ for every $\alpha<\delta$ by transfinite induction on $\alpha$. Suppose
\begin{align}\label{eqn:ordOT1}
  \forall\xi<\alpha(\xi\in\OT_\Omega).
\end{align}
If $\alpha=0$ or $\alpha=_\NF\omega^\gamma+\delta$, \eqref{eqn:ordOT1}, (C1) and (C2) imply $\alpha\in\OT_\Omega$, so assume
$\alpha$ is an $\varepsilon$-ordinal. In search of a contradiction, assume further that $\alpha\not\in\OT_\Omega$. We prove $\alpha=\vartheta\xi$ for some $\xi\in\OT_\Omega$. Pick $\beta$ to be the least ordinal in $\{\gamma\le\delta:\gamma\in\OT_\Omega\land\alpha<\gamma\}$. Then $\beta$ must be an $\varepsilon$-ordinal as otherwise
$\beta=\omega^{\gamma_0}+\gamma_1$ for some $\gamma_0,\gamma_1<\beta$, whence
$\alpha\le\max\{\gamma,\delta\}\in\OT_\Omega\cap\Omega$. Since
$\beta\in\OT_\Omega$, $\beta=\vartheta\xi$ for some $\xi\in\OT_\Omega$. Now, as
$\xi^*<\vartheta\xi$ we have $\xi^*<\alpha$. Thus $\xi\in C(\xi,\alpha)$.

Moreover, we claim $C(\xi,\alpha)\cap\Omega\subseteq\alpha$. The argument proceeds by
induction on the definition of $\eta\in C(\xi,\alpha)\cap\Omega$. In case
$\eta=0$ or $\eta=_\NF\omega^\gamma+\delta$, it is immediate that $\eta<\alpha$, so suppose
$\eta=\vartheta\zeta$. Then $\zeta<\xi$ and, since
\begin{align*}
  \eta\in C(\xi,\alpha)\cap\Omega\subseteq C(\xi,\vartheta\xi)\cap\Omega=\vartheta\xi,
\end{align*}
$\eta<\beta$. By \eqref{eqn:ordOT1} and the fact $\xi\in\OT_\Omega$, we obtain $C(\xi,\alpha)\subseteq\OT_\Omega$, so
$\eta=\vartheta\zeta\in\OT_\Omega$, whence $\eta<\alpha$ by the choice of
$\beta$.

Thus we have shown $\xi\in C(\xi,\alpha)$ and $C(\xi,\alpha)\cap\Omega\subseteq \alpha$, whence $\vartheta\xi\le\alpha$ by ($\vartheta1$), and $\alpha=\beta\in\OT_\Omega$.
\end{proof}
\begin{proposition}\label{prop:thetaitems2}\
% Let $\alpha<\Omega$ be some ordinal. Then
% For $\alpha\in\OT_\Omega\cap\Omega$,
\begin{enumerate}
%  \item $\alpha<\Gamma_0$ implies $\vartheta(\Omega\cdot\alpha)<\Gamma_0$.
 \item $\vartheta\Omega$ is the least ordinal closed under the function $\gamma\mapsto\vartheta\gamma$.
 \item $\vartheta\Omega^2$ is the least ordinal closed under the function $\gamma\mapsto\vartheta(\Omega\cdot\gamma)$.
 \item $\vartheta\Omega^3$ is the least ordinal closed under the function $\gamma\mapsto\vartheta(\Omega^2\cdot\gamma)$.
%  \item $\alpha=\varepsilon_\alpha$ if and only if $\alpha$ is closed under the function $\xi\mapsto\vartheta\xi$,
%  \item $\alpha=\varphi\alpha0$ if and only if $\alpha$ is closed under the function $\xi\mapsto \vartheta(\Omega^2+\xi)$,
%  \item $\alpha=\Gamma_\alpha$ if and only if $\alpha$ is closed under the function $\xi\mapsto \vartheta(\Omega^2+\Omega+\xi)$.
\end{enumerate}
\end{proposition}
\begin{proof}
(i). Let $\gamma_0=0$ and $\gamma_{m+1}=\vartheta\gamma_m$; we claim
\begin{align*}
 \sup_{n<\omega}\gamma_n=\vartheta\Omega,
\end{align*}
whence it is clear (i) holds. $\gamma_0<\vartheta\Omega$ holds trivially and, if $\gamma_m<\vartheta\Omega$, we have $(\gamma_m)^*<\vartheta\Omega$ and so $\gamma_{m+1}=\vartheta\gamma_m<\vartheta\Omega$ by (viii) of \cref{prop:thetaitems1}; thus $\sup_{n}\gamma_n\le\vartheta\Omega$.

To show $\vartheta\Omega\le\sup_n\gamma_n$ we prove $\beta<\vartheta\Omega$
implies $\beta<\gamma_m$ for some $m$ by induction on the rank of $\beta$. Suppose $\beta<\vartheta\Omega$. Both
$\vartheta\Omega$ and $\sup_n\gamma_n$ are $\varepsilon$-ordinals, so the case
$\beta=_\NF\omega^{\beta_0}+\beta_1$, holds by the induction hypothesis. If
$\beta=\vartheta\xi$ we deduce $\xi<\Omega$ and $\xi^*<\vartheta\Omega$, since
$\beta<\vartheta\Omega$ and $\Omega^*=0$. $\xi^*$ has rank strictly less than
$\beta$, so the induction hypothesis yields an $m<\omega$ such that
$\xi^*<\gamma_m$. \Cref{prop:thetaitems1} (v) then entails $\xi<\gamma_m$.
Moreover, since $\gamma_m=(\gamma_m)^*<\vartheta\gamma_m$, by \cref{prop:thetaitems1} (vi), $\gamma_m<\gamma_{m+1}$, so $\xi^*<\vartheta\gamma_{m}$. Therefore $\beta=\vartheta\xi<\vartheta\gamma_m=\gamma_{m+1}$.

(ii). Let $\gamma_0=0$ and $\gamma_{m+1}=\vartheta(\Omega\cdot\gamma_m)$; we claim
\begin{align*}
 \sup_{n<\omega}\gamma_n=\vartheta\Omega^2,
\end{align*}
whence (ii) holds.
Let $\alpha=\sup_n\gamma_n$. Naturally, $\gamma_0< \vartheta\Omega^2$, and if $\gamma_m<\vartheta\Omega^2$,
\begin{align*}
 (\Omega\cdot\gamma_m)^* %&=(\omega^{\Omega+\gamma_m})^*,\\
	&=\gamma_m^*<\vartheta\Omega^2,
\end{align*}
so $\gamma_{m+1}<\vartheta\Omega^2$ by \cref{prop:thetaitems1} (viii). Thus $\alpha\le\vartheta\Omega^2$.

To show the converse, we prove $\beta<\vartheta\Omega^2$ implies $\beta<\alpha$ by induction on the rank of $\beta$. Suppose $\beta<\vartheta\Omega^2$ and $\beta=\vartheta\xi$
for some $\xi$. As $(\Omega^2)^*=0$ and $\beta<\vartheta\Omega^2$,
\cref{prop:thetaitems1} (viii) implies $\xi<\Omega^2$ and
$\xi^*<\vartheta\Omega^2$, whence the induction hypothesis implies
$\xi^*<\gamma_m$ for some $m$. Since $\xi<\Omega^2$, there are $\delta_0,\delta_1<\Omega$ such that $\xi=\Omega\cdot\delta_0+\delta_1$, whence $\delta_0^*\le\xi^*<\gamma_m$. So $\xi<\Omega\cdot\gamma_m$
% \footnote{$\xi\ge\Omega\cdot\gamma_m$ entails $\xi=\Omega\cdot\delta_0+\delta_1$ for some $\delta_0,\delta_1<\Omega$
% as $\xi<\Omega^2$. But then $\xi^*\ge\delta_0^*\ge\gamma_m^*$, contradicting $\xi^*<\gamma_m$.} so
and $\beta<\gamma_{m+1}$ by \cref{prop:thetaitems1} (viii).

(iii) involves a near identical argument as (ii). Pick $\gamma_0=0$ and
$\gamma_{m+1}=\vartheta(\Omega^2\cdot\gamma_m)$. That
$\sup_{n}\gamma_n\le\vartheta\Omega^3$ is easily established using
\cref{prop:thetaitems1}. For the converse direction,
$\vartheta\Omega^3\le\sup_{n}\gamma_n$, we suppose $\beta<\vartheta\Omega^3$ and
seek to determine $\beta<\gamma_m$ for some $m$. If
$\beta=\vartheta\xi<\vartheta\Omega^3$, we may assume $\xi^*<\gamma_m$ for
some $m$, whence $\xi<\Omega^2\cdot\gamma_m$, and so $\beta<\gamma_{m+1}$.
% For (ii), we will prove for every $\gamma<\Gamma_0$ and $\delta<\vartheta(\Omega\cdot\gamma)$,
% \begin{align}\label{eqn:theta2.1}
%   \vartheta(\Omega\cdot\gamma+\delta)\le\varphi\vartheta(\Omega\cdot\gamma)\delta,
% \end{align}
% by transfinite induction on $\gamma$ with a subsidiary transfinite induction on $\delta$. We have two cases to consider:
%
% Suppose \eqref{eqn:theta2.1} holds for every $\gamma<\alpha$ and $\delta<\vartheta(\Omega\cdot\gamma)$; we need to show
% \begin{align*}
%  \vartheta(\Omega\cdot\alpha)\le\varphi\vartheta(\Omega\cdot\alpha)0.
% \end{align*}
% Let $\xi=\varphi\vartheta(\Omega\cdot\alpha)0$.  This will be achieved by proving
% $C(\Omega\cdot\alpha,\xi)\cap\Omega\subseteq\xi$ and $\Omega\cdot\alpha\in
% C(\Omega\cdot\alpha,\xi)$ and invoking ($\vartheta$1).
%
% Otherwise, suppose \eqref{eqn:theta2.1} holds for every $\gamma\le\alpha$ and $\delta<\beta$; we need to show
% \begin{align*}
%  \vartheta(\Omega\cdot\alpha+\beta)\le\varphi\vartheta(\Omega\cdot\alpha)\beta.
% \end{align*}
%
\end{proof}
\Cref{prop:thetaitems2} allows us to identify some characteristic ordinals in terms of both the Veblen and $\vartheta$ functions.
\begin{corollary}\label{prop:thetaitems3}\
 \begin{enumerate}
  \item $\alpha<\varphi20$ implies $\varepsilon_\alpha=\vartheta\alpha$.
  \item $\vartheta\Omega=\varphi20$.
  \item $\vartheta\Omega^2=\Gamma_0$.
  \item $\vartheta(\Omega^2+\Omega)$ is the least fixed point of the function
	$\xi\mapsto\Gamma_\xi$, which enumerates the class $\{\xi:\xi=\varphi\xi0\}$.
 \end{enumerate}
\end{corollary}
\begin{proof}
 (i) is argued by transfinite induction on $\alpha<\varphi20$. Suppose
$\vartheta\beta=\varepsilon_\beta$ for every $\beta<\alpha$. We will begin by
showing a) $C(\alpha,\varepsilon_\alpha)\cap\Omega\subseteq\varepsilon_\alpha$,
and b) $\alpha\in C(\alpha,\varepsilon_\alpha)$, allowing us to deduce
$\vartheta\alpha\le\varepsilon_\alpha$ by ($\vartheta$1).

a) is shown by a further induction on the construction of $C(\alpha,\varepsilon_\alpha)$. It is trivial that $\beta\in C_0(\alpha,\varepsilon_\alpha)\cap\Omega$ entails $\beta<\varepsilon_\alpha$, and that $\varepsilon_\alpha$ is closed under applications of rule (C2). Moreover, the induction hypothesis implies that for $\beta<\alpha$, $\vartheta\beta<\varepsilon_\alpha$, thus (C3) is also dealt with, and $C(\alpha,\varepsilon_\alpha)\cap\Omega\subseteq\varepsilon_\alpha$.

b) uses the fact $\alpha<\varphi20$, whence $\alpha<\varepsilon_\alpha$ and $\alpha\in C(\alpha,\varepsilon_\alpha)$ by (C1).

To see $\varepsilon_\alpha\le\vartheta\alpha$, assume otherwise. Then $\vartheta\alpha=\varepsilon_\beta$ for some $\beta<\alpha$ by \cref{prop:thetaitems1} (iii). The induction hypothesis yields $\vartheta\alpha=\vartheta\beta$, contradicting $\beta<\alpha$.

(ii) is an immediate consequence of (i) and \cref{prop:thetaitems2}.

(iii). The proof for (i) above can be extended to $\alpha>\varphi20$, but then one can at best show $\varepsilon_\alpha\le\vartheta\alpha\le\varepsilon_{\alpha+1}$ for $\alpha<\Omega$.\footnote{$\vartheta\alpha=\varepsilon_{\alpha+1}$ for $\alpha=\varphi20$ for example.} One can then prove
\begin{align*}
  \varphi2\alpha\le\vartheta(\Omega+\alpha)\le\varphi2(\alpha+1)
\end{align*}
for $\alpha<\Omega$ by transfinite induction on $\alpha$, using the definition of
$\vartheta$. This can easily be extended to deduce, in general,
\begin{align*}
 \varphi\alpha\beta\le\vartheta(\Omega\cdot\alpha+\beta)\le\varphi(\alpha+1)(\beta+1)
\end{align*}
for $\alpha,\beta<\Gamma_0$, from which \cref{prop:thetaitems2} (ii) implies
$\vartheta\Omega^2=\Gamma_0$.

(iv). Let $\Delta_0$ denote the least fixed point of the function
$\xi\mapsto\Gamma_\xi$. Following from (iii) above,
$\vartheta(\Omega^2+\alpha)=\Gamma_\alpha$ for $\alpha<\Delta_0$. Since
$\vartheta(\Omega^2+\Omega)$ is the least ordinal closed under the function
$\alpha\mapsto\vartheta(\Omega^2+\alpha)$, we deduce $\vartheta(\Omega^2+\Omega)
=\Delta_0$.
\end{proof}

In this notation system, $\vartheta\Omega^3$ represents the \emph{Ackermann ordinal}, $\vartheta\Omega^\Omega$ denotes the \emph{Veblen ordinal} and $\vartheta\varepsilon_{\Omega+1}$ is the \emph{Bachmann-Howard ordinal} where
\begin{align*}
 \vartheta\varepsilon_{\Omega+1}=\sup\{\vartheta\Omega, \vartheta\Omega^\Omega,\vartheta\Omega^{\Omega^\Omega},\dots\}=\sup_{\alpha\in\OT_\Omega}\vartheta\alpha.
\end{align*}
Having established an ordinal notation system suitable for the analysis of the theories $\HST_\beta$, we may now fix the language of $\HST_\beta$. Since the proof-theoretic strength of each theory $\HST_\beta$ with $\beta<\vartheta\varepsilon_{\Omega+1}$ will not exceed $\vartheta\varepsilon_{\Omega+1}$, we may pick $\kappa=\vartheta\varepsilon_{\Omega+1}$ and suppose the theories $\HST_\beta$ are formulated in the language $\L_\kappa$.

We require a few further technical results about ordinals before we can proceed with
the analysis. Suppose
$\beta=\Omega^{\alpha_0}\cdot\beta_0+\dots+\Omega^{\alpha_n}\cdot\beta_n$ such
that $\alpha_0>\dots>\alpha_n$ and $\beta_i<\Omega$ for each $i\le n$. Recall
from the previous section that $\beta|_\gamma$ denotes the ordinal
$\Omega^{\alpha_0}\cdot\beta_0+\cdots+\Omega^{\alpha_k}\cdot\beta_k$ where $k<n$
is the least such that $\alpha_{k}>\gamma\ge\alpha_{k+1}$, or $k=n$ if
$\alpha_n>\gamma$.

The following observations are immediate consequences of the definition.
\begin{proposition}\label{prop:morditems} For all ordinals $\alpha, \beta<\varepsilon_{\Omega+1}$ and $\gamma,\delta<\Omega$,
\begin{enumerate}
% 	\item $\alpha^*\le\beta^*$ implies $\alpha^*<\vartheta\beta$.\label{item:morditem1}
%   \item $\alpha|_0=\alpha$,
  \item $\gamma<\delta$ implies $\alpha|_\gamma\le \alpha|_\delta$,
  \item $\alpha<\beta$ implies $\alpha|_\gamma\le \beta|_\gamma$.
  \item $\delta\le\gamma$ implies $(\alpha| _\gamma)|_\delta=\alpha|_\gamma$,
  \item $\beta<\alpha|_\gamma$ if and only if $\beta+\Omega^{\gamma+1}\le \alpha$,
  \item $\beta<\alpha|_\gamma$ and $\delta\le\gamma$ implies $\beta+\Omega^\delta<\alpha|_\gamma$.\label{item:morditem4}
% 	\item $\omega^{\f\beta\alpha}=\f\beta\alpha$. \label{item:morditem:eno}
% 	\item If $\gamma<\alpha<\Omega$ then $\gamma<\f\beta\alpha$ for every $\beta$.
% 	\item If $\delta<\beta$ and $\gamma<\f\beta\alpha$ then
% 	    $\f\delta\gamma<\f\beta\alpha$\label{item:morditem6}.
% 	\item $\alpha<\gamma$ implies $\f\beta\alpha<\f\beta\gamma$.\label{item:morditem8}
\end{enumerate}
\end{proposition}
% \begin{proof}
% % \ref{item:morditem1}. This is trivial, since $\beta^*< \vartheta\beta$
% for every $\beta$.
% (i), (ii) and (iii) issue immediately from the definition of $\alpha|_\gamma$.
%
% (iv). For every $\gamma$ and $\alpha$, $\alpha=\alpha|_\gamma+\alpha_0$ for
% some $\alpha_0<\Omega^\gamma$. Thus, if $\delta<\gamma$, $\Omega$
%
% \ref{item:morditem5}. If $\gamma<\vartheta\beta<\Omega\le\beta$, $\gamma^*<
% \vartheta\beta$ and hence $\vartheta\gamma<\vartheta\beta$ by
% \cref{prop:mordmain}\ref{item:mordtheta}.
%
% % \ref{item:morditem6}. $\f\delta\gamma<\f\beta\alpha$ if and only if
% % $\max\{\delta^*,\gamma^*\}<\f\beta\alpha$ (since $\delta<\beta$ and $\gamma<\Omega$).
% % But $\gamma<\f\beta\alpha$ and $\delta^*\le\beta^*$ so
% % $\max\{\delta^*,\gamma^*\}<\f\beta\alpha$.
% \end{proof}
% Add $\theory S_1$ results, such as reaching limit ordinals or reaching $\gamma_m$, like above.

%%%%%%%%%% Lower bound %%%%%%%%%%%%
\section{Lower bounds on the proof-theoretic ordinal}\label{sec:Fblower}

We will now establish lower bounds for the theories $\HST_\beta$. This will be achieved by extending the well-ordering proofs used in our analysis of $\F$ (\cref{classsec:lowerbounds}) and $\theory S_3$ (\cref{sec:S3lowerbd}). Recall $\kappa=\vartheta\varepsilon_{\Omega+1}$.

\gelhighlight{[Remark that case distinctions below are all decidable]}


$\HST_0$ is identical to $\F$, for which an optimal lower bound was established
in \cref{classlem:S2abcd}. However, because of the change in ordinal notation
system and the reflective nature of the theories $\HST_\beta$ it will be useful
to provide a new proof of the result.
For each $\xi<\kappa$ let $\wo_\xi(x)$ denote the formula
\begin{align*}
  \forall\gn {A(x)}\forall y\prec x\,\T_\xi(\gn{\TI(\dot y,A)}).
\end{align*}
Let $F_0(\rho)$ denote the formula $\wo_0(\rho^*)\land \forall\sigma<\rho[
\wo_0(\sigma^*)\rightarrow \wo_0(\vartheta\sigma)]$ and $F_0^\rho(\alpha)$ denote
$\alpha<\Omega\rightarrow F_0(\rho+\alpha)$. We begin with a technical lemma.
\begin{lemma}\label{lem:F0tech}
 $\HST_0^1\proves \forall\rho[\T_0(\gn{F_0(\dot\rho)})\rightarrow \wo_0(\vartheta\rho)]$.
\end{lemma}
\begin{proof}
Argue within $\HST_0^1$, and assume
\begin{align}\label{eqn:F0tech1}
  \T_0(\gn{F_0(\dot\rho)}).
\end{align}
Let $\gamma_0=\rho^*+1$ and $\gamma_{m+1}=C(\rho,\gamma_m)\cap\Omega$.
Moreover, let $\wo_0^1(x)$ denote $\T_0(\gn{\wo_0(\dot x)})$.
\eqref{eqn:F0tech1} implies $\wo_0^1(\gamma_0)$ and
$\forall\sigma<\rho[\wo_0^1(\sigma^*)\rightarrow\wo_0^1(\vartheta\sigma))]$, whence
it is easy to deduce $\forall m[\wo_0^1(\gamma_m)\rightarrow\wo_0^1(\gamma_{m+1})]$
and thus $\wo_0^1(\vartheta\rho)$. By \Del{0}, $\wo_0(\vartheta\rho)$ holds.
\end{proof}
\begin{lemma}\label{prop:F0wellordering}
  For every $m<\omega$, $\HST_0^m\proves F_0(\Omega\cdot\bar{m})$.
%   \forall\alpha[\wo_0\alpha\rightarrow\wo_0\vartheta(\Omega\cdot\bar n+\alpha)]$.
\end{lemma}
\begin{proof}
$\HST_0^0\proves F_0(\bar0)$ holds vacuously, so suppose $m=n+1>0$ and
\begin{align}\label{eqn:4.1}
\HST_0^n\proves F_0(\Omega\cdot\bar n).
%   \forall m<\bar n\forall\alpha[\wo_0\alpha\rightarrow\wo_0\vartheta(\Omega\cdot\bar m+\alpha)].
\end{align}
% We will show $B^{n+1}(\Omega\cdot(\bar n+1))$.
The first step is to establish
% \begin{align*}%\label{eqn:4.2}
  $\HST_0^n\proves\Prog F^{\Omega\cdot\bar n}_0$.
% \end{align*}
Argue informally within $\HST_0^n$, assuming $\forall\nu<\mu\, F_0^{\Omega\cdot\bar n}(\nu)$ for some $\mu$, that is,
\begin{gather}\label{eqn:4.3}
  \forall\nu<\mu(\wo_0(\nu^*)\land\forall\sigma<\Omega\cdot\bar n+\nu[\wo_0(\sigma^*)\rightarrow\wo_0(\vartheta\sigma)]).
%   \mu<\Omega\land\forall\nu<\mu\,\wo_0\vartheta(\Omega\cdot\bar n+\nu);\label{eqn:4.3}
\end{gather}
We want to show $\wo_0(\mu^*)$ and $\forall\sigma<\Omega\cdot\bar n+\mu[\wo_0(\sigma^*)\rightarrow\wo_0(\vartheta\sigma)]$. The former is obvious since the fact $\wo_0(\varepsilon_\alpha)$ is progressive in $\alpha$ is provable in $\HST_0^1$ (\emph{cf.}~\cref{classlem:S1e+}). To prove the latter, assume $\wo_0(\sigma^*)$ for some $\sigma<\Omega\cdot\bar n+\mu$. If $\mu=0$ or is
a limit ordinal, $\wo_0(\vartheta\sigma)$ is immediate given \eqref{eqn:4.3}. Otherwise $\mu=\nu+1$
for some $\nu$, whence we may assume $\sigma=\Omega\cdot\bar n+\nu$. Let
$\gamma_0=\sigma^*+1$ and $\gamma_{m+1}=C(\sigma,\gamma_m)\cap\Omega$. Then
$\gamma_m<\Omega$ for each $m$ and
\begin{align*}
  \vartheta \sigma\le\sup_{m}\gamma_m
\end{align*}
by \cref{prop:theta1}. $\wo_0(\gamma_0)$ is a consequence of
$\wo_0(\sigma^*)$, so suppose
\begin{align}\label{eqn:4.4}
 \wo_0(\gamma_m)
\end{align}
with the aim of showing $\wo_0(\gamma_{m+1})$ by induction on the recursive
definition of $C(\sigma,\gamma_m)$. Assume $\wo_0(\alpha)$ holds for every
$\alpha\in C_{k}(\sigma,\gamma_m)\cap\Omega$ and suppose $\beta\in
C_{k+1}(\sigma,\gamma_m)\cap\Omega$.

(C1). $\beta\le\gamma_m$, so $\wo_0(\beta)$ is a result of \eqref{eqn:4.4}.

(C2). $\beta=_\NF\omega^\delta+\eta$, and $\delta,\eta\in C_k(\sigma,\gamma_m)$.
Since also $\delta,\eta<\Omega$ the induction hypothesis yields
$\wo_0(\delta)\land\wo_0(\eta)$ and so $\wo_0(\beta)$.

(C3). $\beta=_\NF\vartheta\xi$ and $\xi\in C_k(\sigma,\gamma_m)\cap\sigma$. Thus,
$\xi^*\in C_k(\sigma,\gamma_m)\cap\Omega$ and therefore $\wo_0(\xi^*)$ by the
induction hypothesis. If $\xi<\Omega\cdot n$, $\wo_0(\vartheta\xi)$ is a
consequence of \eqref{eqn:4.1}, otherwise $\Omega\cdot n\le\xi<\sigma$ and
$\wo_0(\vartheta\xi)$ is implied by \eqref{eqn:4.3}.

Thus we may deduce $\forall\alpha<\gamma_{m+1}\,\wo_0(\alpha)$, hence
$\wo_0(\gamma_{m+1})$, and so $\wo_0(\vartheta\sigma)$, concluding the proof of
\begin{align}\label{eqn:4.2}
  \HST_0^n\proves\Prog F^{\Omega\cdot\bar n}_0.
\end{align}
An application of \Nec{0} entails $\HST_0^m\proves \T_0(\gn{\Prog F^{\Omega\cdot\bar n}_0})$, so
\begin{align*}
  \HST_0^m\proves\forall\alpha[\wo_0(\alpha)\rightarrow
   \T_0(\gn{F_0(\Omega\cdot\bar n+\dot\alpha)})],
\end{align*}
and hence, by \cref{lem:F0tech},
\begin{align}\label{eqn:4.6}
  \HST_0^m\proves\forall\alpha(\wo_0(\alpha)\rightarrow\wo_0\vartheta(\Omega\cdot\bar
  n+\alpha)).
\end{align}
To obtain $\HST_0^m\proves F_0(\Omega\cdot\bar m)$ and complete the proof we
argue within $\HST_0^m$. Firstly, $\wo_0((\Omega\cdot\bar m)^*)$ holds trivially as $(\Omega\cdot\bar m)^*=0$. Secondly, if
$\sigma<\Omega\cdot\bar m$, we have either $\wo_0(\sigma^*)\rightarrow
\wo_0(\vartheta\sigma)$ by \eqref{eqn:4.1}, or $\sigma=\Omega\cdot\bar
n+\zeta$ for some $\zeta<\Omega$, whence $\wo_0(\sigma^*)\rightarrow \wo_0(\zeta)$
and $\wo_0(\sigma^*)\rightarrow \wo_0(\vartheta\sigma)$ results from
\eqref{eqn:4.6}.
\end{proof}
\begin{corollary}\label{cor:F0lowerbound}
 $\pto{\HST_0^m}\ge\vartheta(\Omega\cdot m)$ and $\pto{\HST_0}\ge\vartheta(\Omega\cdot\omega)$.
\end{corollary}
\begin{proof}
Let $\gamma_0=1$ and $\gamma_{k+1}= C(\Omega\cdot m,\gamma_k)\cap\Omega$. Then
$\vartheta(\Omega\cdot m)\le\sup_{k<\omega}\gamma_k$ and
$\HST_0^m\proves\wo_0(\bar{\gamma_0})$ holds. Moreover, if $\HST_0^m\proves
\wo_0(\bar{\alpha})$ for every $\alpha<\gamma_k$ we may deduce $\HST_0^m\proves
\wo_0(\bar{\alpha})$ for every $\alpha<\gamma_{k+1}$ by induction on the
definition of $\gamma_{k+1}$ thus: suppose $\beta\in C_{k+1}(\Omega\cdot
m,\gamma_k)\cap\Omega$ and $\HST_0^m\proves \wo_0(\bar\alpha)$ for every
$\alpha\in C_{k}(\Omega\cdot m,\gamma_k)\cap\Omega$. If $\beta$ was enumerated
into $C_{k+1}(\Omega\cdot m,\gamma_k)$ by either (C1) or (C2),
$\HST_0^m\proves\wo_0(\bar\beta)$ is easily obtained from the induction
hypothesis. If, however, $\beta=\vartheta\xi$ for some $\xi\in C_{k}(\Omega\cdot
m,\gamma_k)\cap\Omega\cdot m$, $\xi=\Omega\cdot n+\alpha$ for some $n<m$,
$\alpha\in C_{k}(\Omega\cdot m,\gamma_k)\cap\Omega$ and
$\HST_0^m\proves\wo_0(\bar\xi^*)$ by the induction hypothesis, whence
\cref{prop:F0wellordering} implies $\HST_0^m\proves\wo_0(\bar\beta)$.

Since $\vartheta(\Omega\cdot m)\le\sup_{k<\omega}\gamma_k$, we obtain
$\HST_0^m\proves\wo_0(\bar\alpha)$ for every $\alpha<\vartheta(\Omega\cdot m)$ and
so $\HST_0^m\proves\TI(\mathord<\vartheta(\Omega\cdot m))$ by an application of
\Conec0.
\end{proof}

We will now extend the well-ordering proof above to determine lower bounds on the strength of each
theory $\HST_\beta$. This will be done in stages, first for $\beta=1$, then for
arbitrary $\beta<\omega$ and finally for transfinite levels of the hierarchy. In
doing so we will find ourselves migrating from the function $\alpha\mapsto\vartheta\alpha$
to the function $\alpha\mapsto\vartheta(\Omega\cdot\alpha)$,
and eventually to functions $\alpha\mapsto\vartheta(\Omega^{\beta}\cdot\alpha)$.

Before proceeding directly with $\HST_1$ we require a slightly more general form
of \cref{prop:F0wellordering}. As its proof makes no explicit use of the fact $m$ is finite,
nor any application of \Nec{0} in showing $\Prog F^{\Omega\cdot \bar m}_0$ given
$F_0(\Omega\cdot\bar m)$, we may readily deduce the following generalisation.

\begin{proposition}\label{prop:F0genwellordering}
  $\HST_0^1\proves \forall\rho[F_0(\rho)\rightarrow \Prog  F_0^\rho]$.
\end{proposition}
\begin{proof}
Argue inside $\HST_0^1$ and assume $F_0(\rho)$ and $\forall\nu<\mu\,F_0^\rho(\nu)$, that is,
\begin{gather}
  \wo_0(\rho^*),\label{eqn:F03.1}\\
  \forall\sigma<\rho[\wo_0(\sigma^*)\rightarrow\wo_0\vartheta\sigma],\label{eqn:F03.2}\\
  \forall\nu<\mu(\wo_0(\nu^*)\land\forall\sigma<\rho+\nu[\wo_0(\sigma^*)\rightarrow \wo_0\vartheta\sigma]),\label{eqn:F03.3}
%  \forall\delta<\beta\, A^{\rho+\Omega\cdot\mu}(\delta),\label{eqn:F03.3}
\end{gather}
for some $\mu<\Omega$; we want to prove $\wo_0(\mu^*)$ and $\forall\tau<\rho+\mu[\wo_0(\tau^*)\rightarrow \wo_0(\vartheta\tau)]$. The former holds immediately given \eqref{eqn:F03.3} so assume
\begin{gather}
  \wo_0(\tau^*),\label{eqn:F03.4}
\end{gather}
for some $\tau<\rho+\mu$. We will prove $\wo_0(\vartheta\tau)$.

Let $\gamma_0=\tau^*+1$ and $\gamma_{m+1} = C(\tau,\gamma_m)\cap \Omega$. That $\wo_0(\gamma_m)$ holds for each $m$ will be established by induction on $m$. From
\eqref{eqn:F03.4} one has $\wo_0(\gamma_0)$. Assume $\wo_0(\gamma_m)$. In
order to show $\wo_0(\gamma_{m+1})$, assume $\wo_0(\alpha)$ for every
$\alpha\in C_k(\tau,\gamma_m)\cap\Omega$. Pick an arbitrary $\alpha_0\in
C_{k+1}(\tau,\gamma_m)\cap\Omega$. If $\alpha_0$ was enumerated into the set by
either (C1) or (C2), $\wo_0(\alpha_0)$ is immediate. Otherwise
$\alpha_0=\vartheta\xi$ for some $\xi\in C_k(\tau,\gamma_m)\cap\tau$ and, since
$\xi^*\in C_k(\tau,\gamma_m)\cap\Omega$, we have $\wo_0(\xi^*)$. If $\xi<\rho$,
\eqref{eqn:F03.2} provides $\wo_0(\vartheta\xi)$. Otherwise $\tau=\rho+\nu$
for some $\nu<\mu$ and $\wo_0(\vartheta\xi)$ holds due to \eqref{eqn:F03.3}.
Either way $\wo_0(\alpha_0)$, and so $\wo_0(\alpha)$ for every
$\alpha<\gamma_{m+1}$, whence $\wo_0(\gamma_{m+1})$.

Since $\vartheta\tau\ge\sup_m\gamma_m$ we obtain $\wo_0(\vartheta\tau)$.
\end{proof}

\Cref{prop:F0genwellordering} is plays a key role in the analysis of $\HST_0^m$ and also $\HST_1^1$. \Cref{lem:F0tech} entails
\begin{align*}
 \HST_0^1\proves\T_0(\gn{\Prog  F_0^{\dot\rho}})
	&\rightarrow {\forall\alpha[\wo_0(\alpha)\rightarrow \T_0(\gn{F_0^{\dot\rho}(\dot\alpha)})]}).\\
	&\rightarrow {\forall\alpha[\wo_0(\alpha)\rightarrow \wo_0\vartheta(\rho+\alpha)]}),
\end{align*}
so $\HST_1^1\proves \forall\rho[\T_1(\gn{F_0(\dot\rho)})\rightarrow \T_1(\gn{F_0(\dot\rho+\Omega)})]$. This amounts to proving
\begin{align}\label{eqn:F11.1}
  \HST_1^1\proves \forall\rho[{F_1(\rho)}\rightarrow \Prog  F_1^\rho]
\end{align}
where $F_1(\rho)$ is the formula $\T_1(\gn{F_0(\rho)})$ and
$F_1^\rho(\alpha)$ denotes $\alpha<\Omega\rightarrow F_1(\rho+\Omega\cdot\alpha)$.
\eqref{eqn:F11.1} is sufficient to deduce a lower bound on the strength of the
theory $\HST_1^1$.
\begin{corollary}\label{cor:F11lowerbound}
  $\pto{\HST_1^1}\ge\vartheta\Omega^2$.
\end{corollary}
\begin{proof}
Since $\HST_0\proves F_0(\bar0)$, \eqref{eqn:F11.1} implies
\begin{gather}\label{eqn:F11lower1}
 \HST_1^1\proves \Prog  F^{\bar 0}_1.
\end{gather}

Let $\sigma_0=1$ and $\sigma_{m+1}=\vartheta(\Omega\cdot\sigma_m)$. By
\cref{prop:thetaitems2} (ii), $\vartheta\Omega^2=\sup_m\sigma_m$, so it
suffices to show $\HST_1^1\proves\wo_1(\bar\sigma_m)$ for each $m$. This is
trivial for $m=0$; for $m=n+1$ argue within $\HST_1^1$ assuming
$\wo_1(\bar\sigma_n)$. Then $\wo_1(\bar\sigma_n+1)$ and so $\T_1(\gn{F_0(\Omega\cdot\bar\sigma_n)})$
by an application of \Conec{1} and \eqref{eqn:F11lower1}. \Cref{lem:F0tech} yields $\T_1(\gn{\wo_0\vartheta(\Omega\cdot\bar\sigma_n)})$ and so $\wo_1(\bar\sigma_m)$
holds.
\end{proof}
Within $\HST_1^2$, the above proof may be replicated under a $\T_1$ predicate,
allowing one to reach ordinals beyond $\vartheta\Omega^2$, as the next
proposition demonstrates.
\begin{lemma}\label{prop:F1wellordering}
For each $m$, $\HST_1^{m+1}\proves F_1(\Omega^2\cdot\bar m)$ and $\HST_1^{m+1}\proves \Prog  F_1^{\Omega^2\cdot\bar m}$.
\end{lemma}
\begin{proof}
$\HST_1^1\proves F_1(\bar 0)$ holds trivially, so suppose $m=n+1$ and $\HST_1^m\proves F_1(\Omega^2\cdot\bar n)$.
\eqref{eqn:F11.1} yields $\HST_1^m\proves \Prog  F_1^{\Omega^2\cdot\bar n}$, whence an application of \Nec{1} and T$^-_1$-Rep implies
\begin{align}\label{eqn:F1well.1}
  \HST_1^{m+1}\proves \T_1(\gn{\forall\alpha[\wo_0(\alpha)\rightarrow \T_0(\gn{F_1(\Omega^2\cdot\bar n+\Omega\cdot\dot\alpha)})]}).
\end{align}
However, arguing within $\HST_0$, from $F_0(\rho)$ one obtains $\wo_0(\vartheta\rho)$, so \eqref{eqn:F1well.1} entails
\begin{align*}
  \HST_1^{m+1}\proves \T_1(\gn{\forall\alpha[\wo_0(\alpha)\rightarrow \wo_0\vartheta(\Omega^2\cdot\bar n+\Omega\cdot \dot\alpha)]}),
\end{align*}
and thus $\HST_1^{m+1}\proves F_1(\Omega^2\cdot\bar m)$ as required.
\end{proof}

\begin{theorem}\label{cor:F1lowerbound}\label{thm:F1lowerbound}
Suppose $m<\omega$. Then every theorem of
$\PA+\TI(\mathord<\vartheta(\Omega^2\cdot m))$  is derivable in
$\HST_1^{m}$. Moreover, every theorem of
$\PA+\TI(\mathord<\vartheta(\Omega^2\cdot \omega))$ is derivable in
$\HST_1$.
\end{theorem}
\begin{proof}
Since $\vartheta0=\varepsilon_0$ and $\HST_1^0$ extends $\PA$, the case
$m=0$ holds, so suppose $m=n+1>0$. If $\HST_1^m\proves \wo_0(\bar\alpha)$,
\cref{prop:F1wellordering} implies
\begin{align*}
 \HST_1^{m}\proves \wo_0 \vartheta(\Omega^2\cdot \bar n+\Omega\cdot\bar\alpha),
\end{align*}
whereby if $\sigma_0=1$ and $\sigma_{k+1}=\vartheta(\Omega^2\cdot n+\Omega\cdot\sigma_k)$, $\HST_1^m\proves \wo_0(\bar\sigma_k)$ for every $k$.

Thus we require to show $\vartheta(\Omega^2\cdot m)\le\sup_k\sigma_k$. This
is proved by induction on the rank of $\alpha<\vartheta(\Omega^2\cdot
m)$. If $\alpha=_\NF\omega^\gamma+\delta<\vartheta(\Omega^2\cdot m)$, the induction
hypothesis immediately implies $\alpha<\sigma_k$ for some $k$. Otherwise
\begin{align*}
 \alpha=\vartheta\xi<\vartheta(\Omega^2\cdot m)
\end{align*}
and there are two cases to consider:
\begin{enumerate}%\renewcommand*\theenumi{(\alph{enumi})}\renewcommand*\labelenumi{\theenumi}%
 \item $\xi<\Omega^2\cdot m$ and $\xi^*<\vartheta(\Omega^2\cdot m)$; or
 \item $\xi>\Omega^2\cdot m$ but $\vartheta\xi\le(\Omega^2\cdot m)^*$.
\end{enumerate}
b) cannot hold since $(\Omega^2\cdot m)^*=0$, so $\xi^*<\vartheta(\Omega^2\cdot m)$. As $\xi^*$ has rank strictly
smaller than $\alpha$ the induction hypothesis
implies $\xi^*<\sigma_k$ for some $k$. But then $\xi<\Omega^2\cdot n+\Omega\cdot\sigma_k$ and
$\alpha<\sigma_{k+1}$.

The second part of the theorem is easily established using the fact $\vartheta(\Omega^2\cdot\omega)=\sup_k\vartheta(\Omega^2\cdot k)$.
\end{proof}
% We thus obtain lower bounds on the strength of the theory $\HST_1^m$ and its
% approximants.
% \begin{corollary}\label{cor:F1strength}
% $\pto{\HST_1^m}\ge\vartheta(\Omega^2+\Omega\cdot m)$ and
% $\pto{\HST_1}\ge\vartheta(\Omega^2+\Omega\cdot\omega)$.
% \end{corollary}
We can now turn our attention to the theories $\HST_p$ for $p<\omega$.
\Cref{prop:F1wellordering} essentially shows $\HST_1\proves
F_1(\Omega^2\cdot\bar\alpha)$ implies $\HST_1\proves
F_1(\Omega^2\cdot(\bar\alpha+1))$. This can be extended to show $\HST_1\proves\forall\nu<\bar\mu\,F_1(\Omega^2\cdot\nu)$ implies $\HST_1\proves F_1(\Omega^2\cdot\bar\mu)$, whence
\begin{gather}\label{eqn:Fbwell1}
  \HST_2^1\proves \Prog  F^{\bar 0}_2
\end{gather}
where $F_2^{\rho}(\alpha)$ is the formula $\alpha<\Omega\land\T_2(\gn{F_0(\rho+\Omega^2\cdot\alpha)})$.

\eqref{eqn:Fbwell1} suffices to deduce a lower bound for $\HST_2^1$ and acts as
the base step in the analysis of $\HST_2$ and ultimately $\HST_p$, which follows a
generalised form of the procedure used in \cref{prop:F1wellordering}.

Let $F_p(\rho)$, for $0<p<\omega$, be the formula $\T_p(\gn{F_0(\dot\rho)})$, that is
\begin{align*}
 \T_{p}(\gn{\wo_0(\rho^*)\land\forall\sigma<\dot\rho [\wo_0(\sigma^*)\rightarrow\wo_0(\vartheta\sigma)]}),
\end{align*}
and denote by $F_p^\rho(\alpha)$ the formula $\alpha<\Omega\land F_p(\rho+\Omega^{\bar p}\cdot\alpha)$.
\begin{lemma}\label{lem:Fpwellordering1}
 For each $p<\omega$, $\HST_p^1\proves \forall\rho[F_p(\rho)\rightarrow\Prog F_p^{\rho}]$ and, for $m<\omega$, $\HST_p^{m+1}\proves F_p(\Omega^{\bar p+1}\cdot\bar m)$.
\end{lemma}
\begin{proof} The proof proceeds by induction on $p<\omega$. The case of $p=0$
has already been shown in \cref{prop:F0genwellordering} so suppose $p=q+1>0$.
Argue informally within $\HST_p^1$. Assume
\begin{gather}
 F_p(\rho),\label{eqn:Fpwell1}\\
 \forall\nu<\mu\,F_p^\rho(\nu)\label{eqn:Fpwell2}
\end{gather}
for some $\mu<\Omega$. If $\mu=0$, of course $F_p^\rho(\mu)$ holds by
\eqref{eqn:Fpwell1}, and if $\mu$ is a limit ordinal, \eqref{eqn:Fpwell2}
implies $\T_p(\gn{\forall\nu<\dot\mu\,F_0(\rho+\Omega^{\bar p}\cdot\mu)})$,
whence $F_p^\rho(\mu)$ is immediate. This leaves only the case in which $\mu$ is a
successor ordinal. But for every ordinal $\tau$,
\begin{align}\label{eqn:Fpwell3}
\begin{split}
  F_p(\tau) &\rightarrow \T_p(\gn{F_q(\dot\tau)}), \\
	  &\rightarrow \T_p(\gn{\Prog F_q^{\dot\tau}}),\\
	  &\rightarrow \T_p(\gn{\T_0(\gn{\Prog F_q^{\dot\tau}})}),\\
	  &\rightarrow \T_p(\gn{\forall\alpha[\wo_0(\alpha)\rightarrow \T_0(\gn{F_q^{\dot\tau}(\dot\alpha)})]}),\\
	  &\rightarrow \T_p(\gn{\forall\alpha[\wo_0(\alpha)\rightarrow \T_0(\gn{F_0(\dot\tau+\Omega^{\bar q}\cdot\dot\alpha)})]}),\\
	  &\rightarrow \T_p(\gn{\forall\alpha[\wo_0(\alpha)\rightarrow\wo_0(\vartheta(\dot\tau+\Omega^{\bar q}\cdot\alpha))]}).
	  \end{split}
\end{align}
The second implication holds on account of the induction hypothesis, while the
final holds due to \Del{0} and \cref{lem:F0tech}. Given that if
$\tau\le\sigma<\tau+\Omega^{p}$ there exists
some $\zeta<\Omega$ such that $\sigma<\tau+\Omega^q\cdot\zeta$ and
$\wo_0(\sigma^*)\rightarrow\wo_0(\zeta)$ (pick
$\zeta=(\sigma^*)^{\varepsilon+}$), \eqref{eqn:Fpwell3}\gelnote{define \( \alpha^{\varepsilon+} \)}
entails $F_p(\tau)\rightarrow\T_p(\gn{F_0(\dot\tau+\Omega^{\bar p})})$,
% $F_p(\tau)\rightarrow\T_p(\gn{\forall\sigma<\dot\tau+\Omega^{\bar p}[\wo_0(\sigma^*)\rightarrow \wo_0(\vartheta\sigma)]})$
that is $\forall\tau[F_p^\tau(\alpha)\rightarrow F_p^\tau(\alpha+1)]$.

For the second part, the case $m=0$ is immediate, so suppose $m=n+1$ and $\HST_p^m\proves
F_p(\Omega^{\bar p+1}\cdot\bar n)$. Then
$\HST_p^{m+1}\proves\T_p(\gn{\Prog F_p^{\Omega^{\bar p+1}\cdot\bar n}})$, from which we deduce
\begin{align*}
  \HST_p^{m+1}\proves\T_p(\gn{\forall\alpha[\wo_0(\alpha)\rightarrow\T_0(\gn{F_p(\Omega^{\bar p+1}\cdot\bar n+\Omega^{\bar p}\cdot\dot\alpha)})]})
\end{align*}
and hence obtain $\HST_p^{m+1}\proves F_p(\Omega^{\bar p+1}\cdot\bar m)$.
\end{proof}
\begin{theorem}\label{thm:Fplowerbound}
 For every $m<\omega$ and $p<\omega$,
$\HST_p^{m}\proves\TI(\mathord<\vartheta(\Omega^{p+1}\cdot m))$ and
$\HST_p\proves\TI(\mathord<\vartheta(\Omega^{p+1}\cdot\omega))$.
\end{theorem}
\begin{proof}
For every $p$, the base case, $m=0$, is immediate since $\HST_p^0$ extends $\PA$
formulated in the language $\L_p$. Otherwise $m=n+1>0$ and the previous lemma
shows $\HST_p^m\proves\Prog F_p^{\Omega^{\bar p+1}\cdot\bar n}$. Given $\HST_p^m\proves
\wo_p(\bar \alpha)$, one obtains $\HST_p^m\proves F_p(\Omega^{\bar p+1}\cdot\bar
n+\Omega^{\bar p}\cdot\bar\alpha)$, and so
\begin{align*}
  \HST_p^m\proves\wo_p(\vartheta(\Omega^{\bar p+1}\cdot\bar n+\Omega^{\bar p}\cdot\bar\alpha)),
\end{align*}
by unravelling the definition of $F_p$ and \cref{lem:F0tech}.

Let $\sigma_0=1$ and $\sigma_{k+1}=\vartheta(\Omega^{p+1}\cdot
n+\Omega^p\cdot\sigma_k)$. The previous paragraph establishes $\HST_p^m\proves
\TI(\mathord<\sigma_k)$ for every $k$, so all that remains is to show
$\vartheta(\Omega^{p+1}\cdot m)\le\sup_k\sigma_k$, which proceeds by induction
on the rank of $\alpha<\vartheta(\Omega^{p+1}\cdot m)$. If $\alpha=0$ we are
done, and if $\alpha=_\NF\omega^\gamma+\delta$, the induction hypothesis implies
$\alpha<\sigma_k$ for some $k$. Thus, suppose
\begin{gather*}
  \alpha=\vartheta\xi<\vartheta(\Omega^{p+1}\cdot m)
\end{gather*}
for which there are two cases to consider.
\begin{enumerate}
 \item $\xi<\Omega^{p+1}\cdot m$ and $\xi^*<\vartheta(\Omega^{p+1}\cdot m)$; or
 \item $\xi>\Omega^{p+1}\cdot m$ but $\vartheta\xi\le(\Omega^{p+1}\cdot m)^*$.
\end{enumerate}
Since $(\Omega^{p+1}\cdot m)^*=0$, b) is impossible, and so
$\xi^*<\sigma_k$ for some $k$ by the induction hypothesis. Then
$\xi<\Omega^{p+1}\cdot n+\Omega^p\cdot\sigma_k$, whence
$\alpha<\vartheta(\Omega^{p+1}\cdot n+\Omega^p\cdot\sigma_k)=\sigma_{k+1}$.

The second part of the theorem is an immediate consequence of the fact
\begin{align*}
  \vartheta(\Omega^{p+1}\cdot \omega)=\sup_{k<\omega}\vartheta(\Omega^{p+1}\cdot k).
\end{align*}
\end{proof}

Finally, we extend the well-ordering proofs to theories $\HST_\beta$ for
$\beta\ge\omega$. For $\beta=\omega$ this involves generalising the above proof
so that one may derive
\begin{align}\label{eqn:Fbetawellordering0.1}
  \HST_\omega\proves\forall p<\omega\,\T_\omega(\gn{\Prog F_p^{\bar0}}),
\end{align}
whence $\HST_\omega \proves\forall
p<\omega\,\T_\omega(\gn{\forall\alpha[\wo_{0}(\alpha)\rightarrow\wo_{0}
\vartheta(\Omega^p\cdot\alpha)]})$ and also
\begin{align*}
  \HST_\omega\proves \forall\sigma<\Omega^\omega[\wo_\omega(\sigma^*)\rightarrow
  \wo_\omega(\vartheta\sigma))].
\end{align*}
\eqref{eqn:Fbetawellordering0.1} is not difficult to establish as the proof of
\cref{lem:Fpwellordering1} is clearly uniform in $p<\omega$ and thus can be
repeated under a $\T_\omega$ predicate in $\HST_\omega$. But in order to lift the
construction to arbitrary $\beta\in\OT_\Omega\cap\Omega$ we require a more
general argument.

For each $\beta\in\OT_\Omega$ let $G_\beta(\rho)$ denote the formula
\begin{align*}
  \T_{\beta}(\gn{F_0(\dot\rho)}),
\end{align*}
and let $G_\beta^\rho(\alpha)$ abbreviate $\alpha<\Omega\land \forall\eta<\bar\beta\,G_\beta(\rho+\Omega^\eta\cdot\alpha)$.
\begin{proposition}\label{lem:Fbetawellordering1}
 For each $\beta\in\OT_\Omega\cap\Omega$, $\HST_{\beta}^1\proves \forall\rho[G_\beta(\rho)\rightarrow \Prog G_\beta^\rho]$ and for every $m<\omega$, $\HST_{\beta}^{m+1}\proves G_\beta(\Omega^{\bar\beta}\cdot\bar m)$.
\end{proposition}
The proof of \cref{lem:Fbetawellordering1} is by transfinite induction on
$\beta$ and requires, for a given $\beta$, the following technical lemmata.
\begin{lemma}\label{lem:Fbetatech1}
 $\HST_\beta^1\proves \forall\rho[G_\beta(\rho)\rightarrow \forall\eta<\bar\beta\,\T_\beta(\gn{\Prog G_{\dot\eta}^{\dot\rho}})]$.
\end{lemma}
\begin{lemma}\label{lem:Fbetatech2}
  $\HST_\beta^1\proves \T_\beta(\gn{\forall\tau\forall\eta<\bar\beta\,[F_0(\tau)\land\T_0(\gn{\Prog G_{\dot\eta}^{\dot\tau}}) \rightarrow
  F_0(\tau+\Omega^{\eta})]})$.
\end{lemma}
\begin{proof}
The two lemmata hold vacuously when $\beta=0$. For $\beta>0$
\begin{align*}
 \HST_\beta^1\proves G_\beta(\rho)\equi \forall\eta<\bar\beta\,\T_\beta(\gn{G_\eta(\dot\rho)}),
\end{align*}
so the first lemma would result from replicating the proof of (the transfinite
induction hypothesis of) \cref{lem:Fbetawellordering1} under a $\T_\beta$
predicate. This is possible as the proof of the \namecref{lem:Fbetawellordering1}, which is presented below, is
uniform in $\eta<\beta$.

In order to establish \cref{lem:Fbetatech2}, argue within $\HST_\beta^1$ \emph{under} the scope of a $\T_\beta$ predicate. Fix $\eta<\bar\beta$, some arbitrary $\tau$ and assume
\begin{gather}
  \T_0(\gn{\Prog G_{\dot \eta}^{\dot\tau}}),\label{eqn:Fbetatech2}\\
  F_0(\tau).\label{eqn:Fbetatech3}
\end{gather}
\eqref{eqn:Fbetatech2} entails
\begin{gather*}
  \forall\alpha [\wo_0(\alpha)\rightarrow \forall\xi<\eta\,\T_0(\gn{G_\eta(\dot\tau+\Omega^{\dot\xi}\cdot\dot\alpha)})],
\end{gather*}
so $\forall\alpha[\wo_0(\alpha)\rightarrow \forall\xi<\eta\,\T_0(\gn{F_0(\dot\tau+\Omega^{\dot\xi}\cdot\dot\alpha)})]$ by \Del{0} and
\begin{align}\label{eqn:Fbetatech4}
  \forall\xi<\eta\forall\alpha [\wo_0(\alpha)\rightarrow\wo_0(\vartheta(\tau+\Omega^\xi\cdot\alpha))]
\end{align}
by \cref{lem:F0tech}. If $\tau\le\sigma<\tau+\Omega^\eta$, there exists some
$\zeta<\Omega$ and $\xi<\eta$ such that $\sigma<\tau+\Omega^\xi\cdot\zeta$
and $\wo_0(\sigma^*)\rightarrow \wo_0(\zeta)$ (pick
$\zeta=(\sigma^*)^{\varepsilon+}$), whence $\wo_0(\sigma^*)\rightarrow
\wo_0(\vartheta\sigma)$ results from \eqref{eqn:Fbetatech4} as
$\vartheta\sigma<\vartheta(\tau+\Omega^\xi\cdot\zeta)$. If, however,
$\sigma<\tau$, \eqref{eqn:Fbetatech3} implies $\wo_0(\sigma^*)\rightarrow
\wo_0(\vartheta\sigma)$. Thus, $F_0(\tau+\Omega^\eta)$ holds.
\end{proof}
\begin{proof}[of \cref{lem:Fbetawellordering1}]
Argue informally within $\HST_\beta^1$. Fix some arbitrary $\rho$ and assume $G_\beta(\rho)$.
\Cref{lem:Fbetatech1} yields $\forall\eta<\bar\beta\,\T_\beta(\gn{\Prog
G_\eta^\rho})$ from which, using T$^-_\beta$-Rep and \cref{lem:Fbetatech2},
one obtains
  $\forall\eta<\bar\beta\,\T_\beta(\gn{F_0(\rho+\Omega^\eta)})$,
that is, $\forall\eta<\bar\beta\,G_\beta(\rho+\Omega^\eta)$. Therefore
\begin{align}\label{eqn:Fbetawellordering11}
 \HST_p^1\proves\forall\rho[G_\beta^\rho(\alpha)\rightarrow G_\beta^\rho(\alpha+1)].
\end{align}
If $\mu$ is a limit ordinal, $\forall\nu<\mu\,G_\beta^\rho(\nu)$ and
\Uni\beta implies
\begin{align*}
\forall\eta<\bar\beta\,\T_\beta(\gn{\forall\nu<\dot\mu\,F_0(\dot\rho+\Omega^{\dot\eta}
\cdot\nu)}),
\end{align*}
from which $\T_\beta(\gn{F_0(\dot\rho+\Omega^{\dot\eta}\cdot\dot\mu)})$ is easily
deduced. Thus \eqref{eqn:Fbetawellordering11} entails
\begin{align*}
 \HST_\beta^1\proves\forall\rho[G_\beta(\rho)\rightarrow \Prog G_\beta^\rho].
\end{align*}

The second half of \cref{lem:Fbetawellordering1} is proved by induction on $m<\omega$. The case $m=0$ holds since $F_0(\bar0)$ is vacuously true. If $m=n+1$ and $\HST_\beta^m\proves G_\beta(\Omega^{\bar\beta}\cdot\bar n)$,
\begin{align*}
 \HST_\beta^{m+1}\proves \T_\beta(\gn{\Prog G_\beta^{\Omega^{\bar\beta}\cdot\bar n}}),
\end{align*}
so $\HST_\beta^{m+1}\proves G_\beta(\Omega^{\bar\beta}\cdot\bar m)$ by an argument similar to \cref{lem:Fbetatech2}.
%
\end{proof}
Much as in the finite case, \cref{lem:Fbetawellordering1} suffices to obtain
lower bounds on the theories $\HST_\beta^m$. In \cref{thm:Fbetalowerbound}
below we prove $\pto{\HST_\beta}\ge\vartheta(\Omega^\beta\cdot\omega)$. This is
achieved by showing the proof-theoretic ordinal of $\HST_\beta^m$ is closed under
the operations $\alpha\mapsto\vartheta(\Omega^\eta\cdot\alpha)$ for every
$\eta<\beta$ and extends the strength of $\HST_\beta^n$ for $n<m$. The method will
only work if $\beta$ is not ``too large'', that is $\vartheta\Omega^\beta$ is
indeed the \emph{least} ordinal closed under the above operations. By taking
$\beta$ to be no larger than the Veblen ordinal $\vartheta\Omega^\Omega$,
we can ensure that this is the case. %\footnote{\emph{Cf.}~with \cref{prop:thetaitems2}.}
\begin{theorem}\label{thm:Fbetalowerbound}
  For every $\beta<\vartheta\Omega^\Omega$ and every $m<\omega$,
  $\HST_\beta^{m}\proves\TI(\mathord<\vartheta(\Omega^\beta\cdot m))$ and $\HST_\beta\proves\TI(\mathord<\vartheta(\Omega^\beta\cdot\omega))$.
\end{theorem}
\begin{proof}
For every $\beta<\vartheta\Omega^\Omega$, the base case, $m=0$, is immediate
since $\HST_\beta^0$ extends $\PA$ formulated in the language $\L_\kappa$.
Otherwise $m=n+1>0$ and \cref{lem:Fbetawellordering1} implies $\HST_\beta^m\proves\Prog
G_\beta^{\Omega^{\bar\beta}\cdot\bar n}$. Then, given $\HST_\beta^m\proves
\wo_\beta(\bar \alpha)$, we obtain $\HST_\beta^m\proves
\forall\eta<\bar\beta\,G_\beta(\Omega^{\bar\beta}\cdot\bar
n+\Omega^{\bar\eta}\cdot\bar\alpha)$, and so
\begin{align*}
  \HST_\beta^m\proves\forall\eta<\bar\beta\,\wo_\beta\vartheta(\Omega^{\bar \beta}\cdot\bar
  n+\Omega^{\bar \eta}\cdot\bar\alpha))),
\end{align*}
by unravelling the definition of $G_\beta$.

Let $\sigma_0=1$ and $\sigma_{k+1}=\sup_{\eta<\beta}\vartheta(\Omega^{\beta}\cdot
n+\Omega^\eta\cdot\sigma_k)$. The previous paragraph establishes $\HST_\beta^m\proves
\TI(\mathord<\sigma_k)$ for every $k$. Therefore, all that remains is to show
$\vartheta(\Omega^{\beta}\cdot m)\le\sup_k\sigma_k$, which proceeds by induction
on the rank of $\alpha<\vartheta(\Omega^{\beta}\cdot m)$. If $\alpha=0$ we are
done, and if $\alpha=_\NF\omega^\gamma+\delta$, the induction hypothesis implies
$\alpha<\sigma_k$ for some $k$. Thus, suppose
\begin{gather*}
  \alpha=\vartheta\xi<\vartheta(\Omega^{\beta}\cdot m).
\end{gather*}
There are two cases to consider.
\begin{enumerate}
 \item $\xi<\Omega^{\beta}\cdot m$ and $\xi^*<\vartheta(\Omega^{\beta}\cdot m)$; or
 \item $\xi>\Omega^{\beta}\cdot m$ but $\vartheta\xi\le(\Omega^{\beta}\cdot m)^*$.
\end{enumerate}
a) entails $\xi^*<\sigma_k$ for some $k$ by the induction hypothesis
(since $\xi^*$ has rank strictly smaller than $\alpha$). Then
$\xi<\Omega^{\beta}\cdot m+\Omega^\eta\cdot\sigma_k$ for some $\eta<\beta$, whence
$\alpha<\vartheta(\Omega^{\beta}\cdot n+\Omega^\eta\cdot\sigma_k)\le\sigma_{k+1}$.

To manage b) one utilises $\beta<\vartheta(\Omega^\Omega)$. Since
$\vartheta\xi\le\beta^*$ and $(\Omega^\Omega)^*=0$, we have
\begin{align*}
  \vartheta\xi<\vartheta(\Omega^\Omega)
\end{align*}
and $\xi<\Omega^\Omega$. %\footnote{Because $(\Omega^\Omega)^*=0$.} 
But then $\beta\le\xi^*<\Omega$
contradicting $\vartheta\xi\le\beta^*$.

The lower bound on $\HST_\beta$ is an immediate consequence of the fact
\begin{align*}
  \vartheta(\Omega^{\beta}\cdot \omega)=\sup_{k<\omega}\vartheta(\Omega^{\beta}\cdot k).
\end{align*}
\end{proof}

% -----------------------
\section{Upper bounds on the proof-theoretic ordinal}\label{sec:Fbupper1}


%We now address to the task of determining an upper bound on the strength of the theory $\HST_\beta$. 
We present a ordinal function \( f \) on \( \OT \) such that for all \( \rho \in \OT \), all arithmetical theorems of $\HST_\rho$ are derivable in the classical theory $\PA+\TI({<}f(\rho))$.
By a slightly more involved argument, following the method of~\cite{LeiRat10}, the role of Peano arithmetic can be replaced by Heyting arithmetic, \( \HA \). 

The proof proceeds by formalising the consistency proof of \cref{sec:Fbconsis} within the confines of the theory $\PA+\TI({<}f(\rho))$. 
The main technical difficulty is in formalising the co-Necessitation theorem, \cref{thm:FFTElim}, for two reasons:
(1) the proof appeals to transfinite induction beyond the first uncountable ordinal and a subsidiary induction on all countable ordinals,
(2) the case in which the last rule employed was \Uni\eta{} employs non-finitistic properties of $\Omega$, specifically \cref{lem:ordOlimit}.

The first concern is directly alleviated by parameterising the height of derivations in $\FF_\rho$ from which a suitable choice of \( f \) ensures that applications of the subsidiary induction hypothesis are bounded below \( f(\rho) \) and all references to the main induction hypothesis in the co-necessitation theorem are for ordinals of the form
$\Omega^{\alpha_0}\cdot\beta_0+\cdots+\Omega^{
\alpha_n}\cdot\beta_n$ where $\alpha_i,\beta_i< f(\delta)$ for all $i$.

The second point, however, has no immediate alternative; regularity
of $\Omega$ is needed to ensure that the set $\FF_{<\rho}$ is closed under the $\omega$-rule
in the case that $\rho$ is not an $\Omega$-limit, as this property is required to establish that
$\FF_\rho$ is closed under \Conec\eta. 
Suppose, for instance, that 
$\rho=\rho'+\Omega^{\xi+1}$, which is not an $\Omega$-limit. 
If $A(x)$ is a formula of
$\L_\kappa$ and $\proves_{\rho_n}  A(\bar n)$ with $\rho_n<\rho$ for every
$n$, we want to obtain an ordinal $\sigma<\rho$ such that
$\proves_\sigma \forall x\, A(x)$.
%
As each application of \Nec\eta{} in a derivation contributes to the height of a
derivation, a bound on the height of a derivation implicitly bounds its T-rank.
That is, if $\proves_\tau  B$ with height bound $\alpha$, it will follow that 
$\proves_{\sigma}  B$ for some \( \sigma \le \tau \) such that $\sigma^* \le \alpha $.
In particular, if $\alpha$ bounds the height of the derivation $\proves_{\rho_n}  A(\bar n)$ for each
$n$, there exists an ordinal \( \beta < \Omega \) effectively computed from \( \rho \) and \( \alpha \)
such that 
$\proves_\sigma  \forall x\,A(x)$ where 
$\sigma=\rho'+\Omega^\xi\cdot\beta$.

Although the above arguments are still vague, the reader may find them helpful motivation for a number of the technical results to follow, in particular in the Bounding Lemma (\cref{T8conden}).

In what follows it will be important to compare ordinals beyond $\Omega$ by their construction as well in addition to their magnitude, for which we introduce a new ordering $<^*$, defined on $\OT_\Omega$ by
\[
  \rho<^*\sigma \text{ iff }\rho<\sigma \text{ and }\rho^*\le\sigma^*,
  \qquad
  \rho\le^*\sigma \text{ iff } \rho<^*\sigma \text{ or }\rho=\sigma.
\]

\begin{definition}%[Infinitary calculus \( \Tinfty \)]
Fix $\kappa=\vartheta\varepsilon_{\Omega+1}$. 
%We define the relation $\prv{\alpha}{\sigma} \Gamma \! $ where $\alpha, \sigma \in\OT_\Omega$ with $\alpha<\Omega$ and \( \Gamma \) is an \( \L_\kappa \)-sequent according to the inference rules in \cref{f-L-rules,f-T-rules}.
%We write \( \prv \sigma {} \Gamma \) if \( \smash{\prv{\alpha}{\sigma|_0} \Gamma} \) where \( \sigma = \sigma|_0 + \alpha \).
The relation $\prv{\alpha}{} \Gamma \! $ where $\alpha \in\OT_\Omega$ and \( \Gamma \) is an \( \L_\kappa \)-sequent is defined inductively by the rules in \cref{f-L-rules,f-T-rules}.
\end{definition}

%\gelhighlight{Remark on \( \sigma = \sigma|_0 + \alpha \) in above definition: \( \prv \alpha {\sigma|_0} \Gamma \).}

%Given $\prv\alpha\rho{\Gamma}$\!, we refer to \( \Gamma \) as being \emph{derivable} with \emph{T-rank} $\rho$ and \emph{height} \( \alpha \). 
%For a fixed $\eta$, the five rules \cref{f-T-rules} are collectively referred to as \emph{\textT\eta-rules}. 
The rules in \cref{f-T-rules} (for all $\eta$) are referred to as the \emph{truth rules}.
%In each application of a rule in \cref{f-L-rules,f-T-rules} above we specify the \emph{principal}, \emph{minor} and \emph{side} formulae as standard.

\begin{figure}
	\centering
	\ebproofset{
		left label template={\normalfont\footnotesize (\inserttext)},
		right label template={\footnotesize \inserttext},
		template=\small$\inserttext$,
	}
	\begin{tabular}{c@{\qquad}c@{\qquad}c}
		\begin{prooftree}
			\hypo{A \text{ true literal}}
			\infer1[Ax1]{\prov \alpha {\Gamma , A}}
		\end{prooftree}
		&
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , A }
			\hypo{ \prov {\alpha} \Gamma , B }
			\infer2[\( \wedge \)]{ \prov \beta \Gamma , A \wedge B }
		\end{prooftree}
		&
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , A(\bar n) }
			\hypo{ \text{all } n < \omega }
			\infer2[\( \omega \)]{ \prov \beta \Gamma , \forall x A(x) }
		\end{prooftree}
		\\[2em]
		\begin{prooftree}
			\hypo{s^\N = t^\N }
			\infer1[Ax2]{\prov \alpha {\Gamma , \lnot \T_\eta s , \T_\eta t }}
		\end{prooftree}
		&
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , A , B }
			\infer1[\( \vee \)]{ \prov \beta \Gamma , A \vee B }
		\end{prooftree}
		&
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , A(s) }
			\infer1[\( \exists \)]{ \prov \beta \Gamma , \exists x A(x) }
		\end{prooftree}
		\\[2em]
		\begin{prooftree}
			\hypo{s^\N \not\in \setSent_\kappa }
			\infer1[Ax3]{\prov \alpha {\Gamma , \lnot \T_\eta s }}
		\end{prooftree}
	\end{tabular}
	\caption{Axioms and logical rules of the infinitary calculus subject to the constraint that \( \alpha <^* \beta \).}
	\label{f-L-rules}
\end{figure}
%
\begin{figure}
	\centering
	\ebproofset{
		left label template={\normalfont\footnotesize (\inserttext)},
		right label template={\footnotesize \inserttext},
		template=\small$\inserttext$,
	}
	\begin{tabular}{c@{\qquad}c}
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , \T_\eta s }
			\hypo{ \prov {\alpha} \Gamma , \T_\eta ( s \dimplies t ) }
%			\hypo{ s^\N = t^\N }
			\infer2[\Imp\eta]{ \prov \beta \Gamma , \T_\eta t }
		\end{prooftree}
		&
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , \T_\eta \gn{ \T_\xi s } }
			\hypo{ s^\N = t^\N }
			\infer2[\Del\eta]{ \prov \beta \Gamma , \T_\eta t }
		\end{prooftree}
		\\[2em]
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , \T_\eta s }
			\hypo{ t^\N =\gn{ \T_\xi s}^\N }
			\infer2[\Rep\eta]{ \prov \beta \Gamma , \T_\eta t }
		\end{prooftree}
		&
		\begin{prooftree}
			\hypo{ \prov \alpha A }
			\hypo{ \alpha \nsum \Omega^{\eta+1} \leq^* \beta }
			\hypo{ t^\N = \gn{ A }^\N }
			\infer3[\Nec\eta]{ \prov \beta \T_\eta t}
		\end{prooftree}
		\\[2em]
		\multicolumn{2}{c}{
		\begin{prooftree}
			\hypo{ \prov \alpha \Gamma , \T_\eta \gn{ A( \bar n ) } }
			\hypo{ \text{for all } n < \omega,  \alpha |_\eta \text{ not an \( \Omega \)-limit and } t^\N = \gn{\forall x A(x)}^\N }
			\infer2[\Uni\eta]{ \prov \beta \Gamma , \T_\eta t }
		\end{prooftree}}

	\end{tabular}
	\caption{Truth rules of the infinitary calculus; in each case \( \alpha <^* \beta \).}
	\label{f-T-rules}
\end{figure}

The following lemma is an immediate consequence of the definition.

\begin{lemma}[Weakening]
	If\/ \( \prv \alpha {} \Gamma \) and \( \alpha \le^* \delta \) then \( \prv \delta {} {\Gamma,\Delta} \) for all \( \Delta \).
\end{lemma}

%The \emph{rank} of an $\L_\kappa$-sentence $A$, denoted $\rank A$, is defined straightforwardly as \( \rank A = 0 \) for \( A \) an atomic or negated atomic formula (including \( A \in \{ \T_\eta s, \lnot \T_\eta s \mid \eta < \kappa \} \)), \( \rank { A * B } = \max\{ \rank A , \rank B \} + 1 \) for \( * \in \{ \wedge , \vee \} \) and \( \rank { Q x A(x) } = \rank {A(\bar0)}+ 1 \) for \( Q \in \{ \forall , \exists \} \).

Verification of the next proposition is straightforward and, hence, omitted.
%Henceforth, we will omit reference to make free use of the weakening lemma them without mention.
\begin{proposition}\label{inf-props} The following hold
 \begin{enumerate}
%   \item $\Finfty\prv{\alpha}{\sigma}{\Gamma}$, $\beta\ge\alpha$ and $\sigma\le^*\rho$ implies $\Finfty\prv{\beta}{\rho}{\Gamma,\Delta}$ for any sequent $\Delta$.
%   \label{lem:F8L1itemi}
	\item For every \( \L_\kappa \)-sentence \( A \), \( \prov{\omega} {\lnot A,A} \)
%  \item If \( A \) is a false equation, then\/ $\prv{\alpha}{\sigma}{\Gamma, A}$ implies
%	$\prv{\alpha}{\sigma}{\Gamma}$.
%	\label{lem:F8L1itemvi}
	\item If \( \prov \alpha A \vee B \) then \( \prov\alpha A , B \).
  \item If $s^{\N} \notin \setSent_\kappa$, then $\prov{\alpha}{\Gamma, \T_\eta s}$ implies $\prov{\alpha}{\Gamma}$.\label{lem:F8L1itemviji}
  \item If\/ $\prov{\alpha}{\Gamma, A(s), A(t)}$ and
	$s^{\N}=t^{\N}$ then
	$\prov{\alpha}{\Gamma, A(s).}$\label{lem:F8L1itemx}
\end{enumerate}
\end{proposition}

The design of the calculus give rise to the following observation:
\begin{lemma}[Bounding \namecref{bounding}]\label{bounding}
	Fix \( \beta < \kappa \) and suppose \( \Gamma \) is a sequent in the language of arithmetic.
	For all \( \alpha < \Omega^\kappa \), if \( \prov{\alpha} \Gamma \) then there exists \( \alpha' <  \vartheta\alpha \) such that \( \prov{\alpha'} \Gamma \).
\end{lemma}
\begin{proof}
	As the calculus is cut-free, no truth-rule can be utilised in the derivation of a truth-free sequent.
	In such a derivation, every expression \( \prov \sigma \Delta \) can be replaced by \( \prov{\vartheta\sigma} \Delta \).
	Since \( \alpha <^* \beta \) implies \( \vartheta \alpha < \vartheta \beta \), the monotonicity requirements on each application of an inference is maintained.
	Finally, a second induction shows that if \( \prov \alpha \Gamma \) where \( \alpha \) is a limit ordinal, then \( \prov{\alpha'} \Gamma \) for some \( \alpha' < \alpha \).
\end{proof}

The design of the calculus means that the cut rule is admissible with the same bounds as the arithmetical fragment.

\begin{theorem}[Admissibility of cut]\label{cut-admiss}%(Cut admissibility for $\Tinfty$)
	For all $\alpha$, if 
	\(\prov{\alpha} {\Gamma,A} \text{ and } \prov{\alpha} {\Delta,\lnot A}
	\) then $\prov{ \alpha + \vartheta\alpha}{\Gamma,\Delta}$.
\end{theorem}
\gelhighlight{Explain why this is just the usual argument.}
\begin{proof}
By the definition, the literals \( \lnot \T_\eta s \) are principal in only two rules, both axioms.
Thus, given $\prov{\alpha}{\Gamma ,\T_\eta s}$ and $\prov{\alpha}{\Delta,\lnot \T_\eta s}$, if the latter holds by virtue of axiom (ax2) with $\lnot \T_\eta s$ principal, then \( s^\N \not\in \Sent_\kappa \) and \( \prov \alpha  {\Gamma , \Delta} \) holds by the previous proposition.
If, on the other hand, $\prov{\alpha}{\Delta,\lnot \T_\eta s}$ is an instance of (ax2), then \( \prov \alpha {\Gamma , \Delta} \) is either itself an instance of (ax2), or can be obtained from \( \prov \alpha {\Gamma , \T_\eta s} \) substitution of equal terms (also \cref{inf-props}).
%
The remaining cases follow by standard cut-admissibility argument for \( \omega \)-logic and we refer the reader to, e.g., \cite{LeiRat10,Lei-thesis} for analogous arguments.
It is important to note, in particular, that the necessitation rules \( (\Nec\eta)_{\eta < \kappa} \) do not need to be `permuted' with the cut rule: if the cut formula is a side formula of the inference then the cut reduces to weakening, and if it is the principal formula of the rule then, by the above argument, this premise of the cut need  not be consulted.
\end{proof}

What remains is to establish a counterpart of \cref{thm:FFTElim}, and confirm that the argument relative to proofs of T-rank \( \rho \) can be formalised
within the theory $\PA+\TI({<}\delta)$ for suitable $\delta$. 
%The first step is bounding property on T-ranks referred to at the beginning of the section.

%\begin{lemma}[Bounding lemma]\label{T8conden}
%	Let $\Theta\sigma$ denote the least $\eta$ such that $\Omega^{\eta+1}>\sigma$. 
%	%, and \( \Theta^* \sigma = (\Theta\sigma)^* \).
%	If\/ $\prv\alpha\sigma\Gamma$ then there exists $\rho\le\sigma$ such that
%	$\rho^*\le\max\{\alpha^*, (\Theta \sigma)^* \}$ and $\prv\alpha\rho{\Gamma.}$\gelhighlight{We don't use this any more??}
%\end{lemma}
%\begin{proof}
%By transfinite induction on \( \alpha \) in $\prv\alpha\sigma\Gamma$. 
%In the case of axioms it is always possible to choose $\rho=0$ and for any rule other than (\Uni\eta) or (\Nec\eta) the choice of $\rho$ given by the induction hypothesis suffices for the conclusion. 
%Suppose, therefore, that $\prv\alpha\sigma\Gamma$ is witnessed by an instance of (\Nec\eta), meaning that a formula $\T_\eta \gn A$ occurs in $\Gamma$ and $\prv{\alpha_0}\tau A$ for some $\alpha_0<\alpha$ and \( \tau \) satisfying  $\tau\nsum\Omega^{\eta+1}\le^*\sigma$. 
%The induction hypothesis yields $\rho_0\le\tau$ fulfilling $\rho_0^*\le\max\{\alpha_0^*,(\Theta \tau)^* \}$ such that
%$\prv{\alpha_0}{\rho_0}{A,}$ whence we observe setting $\rho=\rho_0\nsum\Omega^{\eta+1}$
%suffices, as
%\begin{align*}
%  \rho^*&\le\max\{\rho_0^*,\eta^*\}\\
%	&\le\max\{\alpha_0^*,(\Theta \tau)^*,\eta^*\}\\
%	&\le\max\{\alpha^*, (\Theta \sigma)^* \}.
%\end{align*}
%For the case of (\Uni\eta) suppose that $\sigma|_\eta$ is not an $\Omega$-limit, $\Gamma$ contains the sentence
%$\T_\eta \gn{\forall x\,A(x)}$ and there exists $\alpha_0<\alpha$ such that
%$\prv{\alpha_0}\sigma{\Gamma,\T_\eta \gn{A(\bar n)} }$ for every $n$. 
%The induction hypothesis yields a $\rho_0\le\sigma$ such that $\prv{\alpha_0}{\rho_0}{\Gamma,\T_\eta \gn{A(\bar n)} }$ with $\rho_0^* \le \max\{\alpha_0^*, (\Theta \sigma)^* \}$. 
%If $\rho_0$ is not an $\Omega$-limit take $\rho=\rho_0$, otherwise define
%$\rho=\rho_0+\Omega^\xi$, where $\xi$ is such that $\sigma|_\eta=\sigma_0+\Omega^{\xi}$ for some $\sigma_0<\sigma$.
%In either case $\rho\le\sigma$ and
%\( \rho^*=\max\{\rho_0^*,\xi^*\}\le\max\{\alpha^*, ( \Theta \sigma)^*\}\). 
%\end{proof}

We define a collection of standard $\L_\kappa$-structures $\mathfrak N_\rho \coloneq \pair{ \N , ( \FF_{\rho,\eta} )_{\eta < \kappa }} $ for $\rho<\Omega^\kappa$.
The interpretation of the predicate \( \T_\eta \) in \( \mathfrak N_\rho \) is given by the set
\begin{align*}
	\FF_{\rho,\eta} \coloneq \bigl\{ \gn A &\mid \text{there exist $\alpha < \rho|_\eta$ such that $\alpha^* < \vartheta\rho$ and $\prov{\alpha}A$} \bigr\}.
  %\end{split}
\end{align*}

\begin{proposition}\label{prop:T8mono}
	If\/ \( \rho \le^* \sigma \)  and $\mathfrak N_\rho\models A$, then $\mathfrak N_{\sigma}\models A$ for every T-positive formula \( A \).\gelnote{Defined T-positive?}
\end{proposition}
\begin{proof}
If \( \rho \le^* \sigma \) then \( \rho|_\eta \leq \sigma_\eta \) for all \( \eta \) and \( \vartheta \rho \leq \vartheta \sigma \).
Therefore, $\FF_{\rho, \eta } \subseteq \FF_{\sigma,\eta} $ for every $\eta<\kappa$ and the claim holds.
\end{proof}

The structure \( \mathfrak N_\rho \) is so chosen to provide a model of axioms of the theory \( \HST_\rho \) for certain \( \rho \).
This claim witnessed by the next result.

\begin{lemma}\label{soundness-lemma}
 The following hold for every $\eta<\kappa$ and $\rho<\Omega^\kappa$.
 \begin{enumerate}
  \item $\mathfrak N_\rho\models\forall x\forall y( \T_\eta x \land	\T_\eta(x\dimplies y) \rightarrow \T_\eta y )$.\label{i-soundimp}
  \item $\mathfrak N_\rho\models\forall x(\T_\eta x \rightarrow \forall \xi<\bar\eta\,\T_\eta \gn{\T_\xi \dot x })$.\gelnote{More coding}\label{i-soundrep}
  \item $\mathfrak N_\rho\models\forall\xi<\bar\kappa\forall x(\T_\eta \gn{\T_{\xi} \dot x } \rightarrow \T_\eta x )$ if, for every \( A \) and $\sigma $, % such that \( \vartheta \sigma < \vartheta \rho \),
	\begin{center}
		if \( \vartheta \sigma < \vartheta \rho \) and \( \prov\sigma A \) then \( \mathfrak N_{\sigma}\models A \).
	\end{center}\label{i-sounddel}
%  \item $\mathfrak N_\rho\models\forall\xi<\bar\kappa\forall \gn A(\T_\eta(\gn{\lnot \T_{\xi}(\gn A)})\rightarrow \T_\eta(\gn{\lnot A}))$.\label{eqn:T8propv}
  \item If $\rho|_\eta$ is not an $\Omega$-limit, $\mathfrak N_\rho\models
	\forall x\,\T_\eta \gn{A(\dot x)} $ and $\rho <^* \sigma$, then $\mathfrak N_{\sigma}\models \T_\eta \gn{\forall x\,A(x)}$.\label{i-sounduni}
 \end{enumerate}
\end{lemma}
\begin{proof}
We treat each case in turn, using appealing to standardness of \( \mathfrak N_\rho \).

\ref{i-soundimp}. Suppose
\(
 \prov{\alpha}{A}\text{ and }\prov{\alpha}{\lnot A \vee B}
\) for \( \alpha < \rho|_\eta \) satisfying \( \alpha^* < \vartheta \rho \).
Admissibility of cut, \cref{cut-admiss}, implies $\prov{\alpha + \vartheta \alpha}{B}$.
As \( \alpha^* < \vartheta \rho \) and \( \alpha < \rho \), we have \( \vartheta \alpha < \vartheta \rho \) by \cref{prop:thetaitems1}(\ref{itm:theta-comp}).
Hence $\mathfrak N_\rho\models \T_\eta \gn{B}$.
%Standardness of \( \mathfrak N_\rho \) implies that the quantified implication also holds.

\ref{i-soundrep}. Suppose \( \prov \alpha A \), that \( \alpha < \rho|_\eta \) and \( \alpha^* < \vartheta \rho \).
An application of (\Nec\eta) yields \( \prov{\delta} \T_\xi\gn A \) where \( \delta = \alpha \nsum \Omega^{\xi+1} \). 
If \( \xi < \eta \), then \( \delta < \rho|_\eta \) and, since \( \xi^* \leq \rho^* < \vartheta\rho \), it follows that \( \delta^* < \vartheta \rho \) and \( \mathfrak N_\rho \models \forall \xi < \bar \eta \, \T_\eta \gn{\T_\xi\gn A} \).

\ref{i-sounddel}. Assume that \( \prov \sigma A \) implies \( \mathfrak N_\sigma \models A \) for all \( \sigma \) such that \( \vartheta \sigma < \vartheta \rho \). 
Suppose \( \mathfrak N_\rho \models \T_\eta \gn{\T_\xi s} \) for some \( \xi < \kappa \).
Let \( \alpha < \rho|_\eta \) and \( B \) such that \( \alpha^* < \vartheta \rho \) and
\[
	\prov \alpha \T_\xi s .
\]
As \( \vartheta \alpha < \vartheta \rho \), we deduce, by the assumption, \( \mathfrak N_\alpha \models \T_\xi s \), whereby \( s^\N = \gn B \) for some sentence \( B \) and there exists \( \beta < \alpha |_\xi \) such that \( \beta^* < \vartheta \alpha \) and 
\[
	\prov \beta B .
\]
Then \( \beta < \alpha|_\xi \le \alpha \le \rho|_\eta \), and \( \beta^* < \vartheta \alpha < \vartheta \rho \), so \( \mathfrak N_\rho \models \T_\eta \gn B \).


\ref{i-sounduni}. Suppose \( \rho|_\eta = \rho_0 + \Omega^{\xi+1} \) is not an \( \Omega \)-limit\gelnote{This is \( \Omega \)-limit} 
and $\mathfrak N_\rho\models \forall x\, \T_\eta \gn{A(\dot x)}$.
Let \( \rho <^* \rho' \) and \( (\alpha_n)_n \) be such that for each \( n \),
\begin{itemize}
	\item \( \alpha_n < \rho|_\eta \),
	\item \( (\alpha_n)^* < \vartheta\rho \),
	\item \( \prov {\alpha_n} A(\bar n) \).
\end{itemize}
%for every \( n \), there exists \( \alpha < \rho|_\eta \) such that \( \alpha^* < \vartheta \rho \) and \( \prov \alpha A(\bar n) \).
Set \( \sigma = \rho_0 + \Omega^\xi. \vartheta\rho < \rho|_\eta \).
As \( \alpha_n <^* \sigma \) for each \( n \), weakening implies that \( \prov{\sigma} A(\bar n) \), whence \( \prov{\sigma+1} \forall x A(x) \).
Clearly, \( \sigma < \rho'|_\eta \). 
As \( \sigma^* = \vartheta\rho < \vartheta\rho' \) we conclude that \( \mathfrak N_{\rho'} \models \T_\eta \gn{\forall x\,A(x)}\).
\end{proof}

\begin{theorem}[Soundness \namecref{soundness-thm}]\label{soundness-thm}
	For every $\sigma < \Omega^\kappa $,
	if\/ $\prov\sigma\Gamma$ and $\Gamma$ is T-positive, then \( \mathfrak N_{\sigma}\models\bigvee\Gamma \).
\end{theorem}
A relatively straightforward proof of the soundness theorem can be given by induction on the ordinal \( \sigma \). Such an argument, however, relies on arbitrary transfinite induction and, thus, cannot be formalised within an extension of \( \PA \) by a schema of bounded transfinite induction.
With only a slight refinement, it possible to proceed by transfinite induction on the collapse of \( \sigma \), i.e.\ \( \vartheta\sigma \).
\begin{proof}
	By transfinite induction on $\vartheta \sigma $.
	Since $\mathfrak N_\sigma$ is standard, the logical rules and axioms (with T-positive end-sequent) are dealt with readily.
	Thus we need only dispense the truth rules. 
	Suppose $\prov\sigma \Gamma$ is derived via a truth rule. 
	If the last rule applied was (\Nec\eta), there is an $\L_\kappa$-sentence $A$, formula $\T_\eta s \in \Gamma$ where $s^\N=\gn A$, and ordinal $\alpha <^* \sigma |_\eta $ such that $\prov\alpha A$.
	In particular, \( \alpha < \sigma|_\eta \) and \( \alpha^* \le \sigma^* < \vartheta \sigma \), so \( \mathfrak N_\sigma \models \bigvee\Gamma\).

	For the remaining truth rules, we recall that \( \alpha <^* \sigma \) implies \( \vartheta \alpha < \vartheta \sigma \), so the induction hypothesis, \cref{soundness-lemma} and monotonicity lemma establish each case.
	In the verification of (\Del\eta), the induction hypothesis implies the additional hypothesis of \cref{soundness-lemma}
\end{proof}


\begin{corollary}\label{conec-thm}%[Conecessitation theorem]
If\/ $\prov \sigma {\T_\eta s}$ then there exists an $\L_\T$-sentence $A$ with $s^\N=\gn A$ and $\prov {\sigma + \vartheta \sigma } A$.
\end{corollary}
\begin{proof} 
	\Cref{soundness-thm} and weakening.
\end{proof}

Having established that the infinitary calculus is closed under (\Conec\eta) for all $\eta<\kappa$ it is clear that the calculus subsumes each of the finitary theories $\HST_\eta$. 
The final task toward an ordinal analysis is to observe an appropriate upper bound on the embedding.
\begin{proposition}\label{embed-axioms}
	 If $A$ is an axiom of $\HST_\eta$, then $\prov{\Omega^{\eta+1} + \omega.2} A$.
\end{proposition}
We omit the proof of \cref{embed-axioms} as it is straightforward. The role of \( \Omega^{\eta+1} \) in the bound is to accommodate the application of (\Nec\eta) needed in deriving the first two axioms of \( \HST_\eta \). \gelhighlight{Fill in axioms}
% \begin{proof}
% If $A$ is either of the axioms \ldots
% $\eta<\beta$,
% % \begin{align*}\label{eqn:T8embed1}
%   $\prv\omega{\Omega^\eta}A$
% % \end{align*}
% holds by the usual embedding of $\PRA$ into an infinitary system and an
% application of (\Nec\eta). In case $A$ is an instance of the induction
% schema of $\HST_\beta$, we may deduce $\prv\alpha0A$ for some
% $\alpha<\varepsilon_0$, making use of the Cut Admissibility
% \cref{cut-admiss}.
%
% For the axioms \textT\eta-* and remaining axioms of $\PA$, we may infer
% $\prv\omega{0}A$ by using the same arguments as in \cref{classprop:F8axF}
% where it was shown the axioms of $\F$ may be derived within $\Finfty$. We note
% that the restrictions imposed on applications of (\textT\eta-$\omega$) have no
% affect as by definition $0$ is not an $\Omega$-limit.
% \end{proof}
\begin{lemma}[Embedding \namecref{embed-lemma}]\label{embed-lemma}
Fix some $\beta<\vartheta\varepsilon_{\Omega+1}$ and suppose $\HST_\beta\proves A$ with $A$ a sentence of $\L_\kappa$. 
There exists \( n \) and \( \alpha < \vartheta(\Omega^{\beta+1}.n ) \) such that 
\[\prov{\Omega^{\beta+1}.n + \alpha } A . \]
\end{lemma}
\begin{proof}
%We proceed by induction on the length of the derivation $\HST_\beta\proves A$.
%
%\noindent\textbf{Case I.} \textit{${\beta=0}$.} This essentially follows from the
%embedding of $\F$ in $\Finfty$, \cref{classthm:F8Embed}, since $\vartheta(\Omega\cdot
%\omega)=\varphi \omega0$. \Cref{embed-axioms} deals with the axioms of $\HST_0$. According to the
%induction hypothesis, an application of \emph{modus ponens} in $\HST_0$ means one has
%\begin{align*}%\label{eqn:T8embed2}
% \prv{\alpha_0}{\Omega\cdot m_0}{B,}&&\prv{\alpha_1}{\Omega\cdot m_1}{\lnot B,A}
%\end{align*}
%for some sentence $B$, ordinals $\alpha_0,\alpha_1<\vartheta(\Omega\cdot (m+1))$, and
%$m_0,m_1<\omega$. Weakening implies
%\begin{align*}
% \prv{\gamma}{\Omega\cdot m}{B,}&&\prv{\gamma}{\Omega\cdot m}{\lnot B,A}
%\end{align*}
%where $\gamma=\max\{\alpha_0,\alpha_1\}$ and $m=\max\{m_0,m_1\}$, whence $\prv\alpha{\Omega\cdot m} A$ holds for some $\alpha<\gamma^{\varepsilon+}$. Since
%$\gamma<\vartheta(\Omega\cdot \omega)<\Omega$, $\vartheta\gamma<\vartheta(\Omega\cdot \omega)$ and so $\alpha<\vartheta(\Omega\cdot \omega)$ whence we are done.
%
%An application of \Nec{0} in $\HST_0$ corresponds to an application of the
%rule (\Nec{0}) in $\Tinfty$. It is an immediate consequence of the induction hypothesis that in this case the desired bounds are maintained.
%
%This leaves only applications of \Conec0 and $\lnot$\Conec0 in $\HST_0$
%to consider, for which we employ \cref{conec-thm}. $\lnot$\Conec0 is immediate, so suppose $\HST_0\proves \T_0(\gn
%A)$ for some $\L_\kappa$-sentence $A$. The induction hypothesis implies
%\begin{align}\label{eqn:T8embed3}
% \prv\alpha{\Omega\cdot m}{\T_0(\gn A)}
%\end{align}
%for some $\alpha<\vartheta(\Omega\cdot\omega)$ and $m<\omega$. By \cref{conec-thm} one obtains some $\gamma<\vartheta(\Omega\cdot m+\alpha)$ and $n<m$ such that
%\begin{align*}
% \prv\gamma{\Omega\cdot n}{A}
%\end{align*}
%holds. But $\Omega\cdot m+\alpha<\Omega\cdot \omega$ and $\alpha<\vartheta(\Omega\cdot \omega)$, so $\gamma<\vartheta(\Omega\cdot\omega)$.
%
%\noindent\textbf{Case II.} \textit{${\beta>0}$.}
Let \( \sigma_n = \Omega^{\beta +1}.n + \vartheta(\Omega^{\beta+1}.n) \) and note that for all \( n \), \( \sigma_n + \vartheta \sigma_n <^* \sigma_{n+1} \).

We show, by induction on the length of \( \HST_\beta \) derivations that if \( \HST_\beta \proves A \) then there exists \( n \) such that for every closed instantiation \( A^* \) of \( A \) we have \( \smash{\prov {\sigma_n} A} \).
Henceforth, we let \( A^* \) represent an arbitrary closed instantiations of \( A \).


\Cref{embed-axioms} deals with the axioms of $\HST_\beta$.
In the case of an application of (\Nec\beta), we may assume that $A$ is $\T_\beta \gn B $ for a sentence $B$ and, invoking the induction hypothesis,
\[
 \prov{\sigma_n } B .
\]
%for some \( n \) and \( \alpha<\vartheta(\Omega^{\beta+1}.n)\).
An application of (\Nec\beta) yields
\[
  \prov{\sigma_n  \nsum\, \Omega^{\beta+1} } { \T_\beta \gn B }.
\]
As \( \sigma_n \nsum \Omega^{\beta+1} <^* \sigma_{n+1} \) weakening completes the argument.
 
If the final rule of inference is modus ponens, the
induction hypothesis and weakening implies that for some \( n \) and sentence \( B \) we have
\[
	\prov{ \sigma_n } {B}
	\quad\text{and}\quad
	\prov{ \sigma_n } {\lnot B,A^*} .
\]
Admissibility of cut (\cref{cut-admiss}) implies
\[
	\prov{ \sigma_n + \vartheta \sigma_n }{A}.
\]
%
%where \( \sigma = \Omega^{\beta+1}.n + \vartheta(\Omega^{\beta+1}.n) \). 
An application of weakening yields
\[
	\prov{ \sigma_{n+1} }{A}.
\]


This leaves only applications of (\Conec\beta) to consider, which follows an argument analogous to the case of cut.
Suppose $\HST_\beta\proves \T_\beta \gn A $
for some $\L_\kappa$-sentence $A$. 
The induction hypothesis provides an \( n \) such that
\[
  \prov{ \sigma_n }{\T_\beta \gn A }.
\]
By \cref{conec-thm},
\[
  \prov{ \sigma_n + \vartheta \sigma_n }{A}.
\]
Since \( \sigma_n + \vartheta\sigma_n <^* \sigma_{n+1} \) we are done.
\end{proof}



The embedding \namecref{embed-lemma}, combined with the bounding lemma, readily provides an upper bound on the strength of the theories $\HST_\beta$. 
\begin{theorem}\label{HST-upper-bound}
	Every arithmetical theorem of $\HST_\beta$, for $\beta<\vartheta\varepsilon_{\Omega+1}$, is derivable in $\PA+\TI(\mathord<\vartheta(\Omega^{\beta+1}\cdot\omega))$.
\end{theorem}

\begin{proof}[Proof sketch]
	Fix an arithmetic sentence \( A \).
	From \( \HST_\beta \proves A \) we obtain a fixed \( n \) such that 
	\[ 
		\prov{\Omega^{\beta+1}.n + \vartheta(\Omega^{\beta+1}.n ) } A .
	\] %for some  \( \alpha < \vartheta(\Omega^{\beta+1}.n) \).
	As \( A \) is in the language of arithmetic, we deduce, via \cref{bounding}, that
	\begin{gather}
		\prov{\vartheta(\Omega^{\beta+1}.n + \vartheta(\Omega^{\beta+1}.n) )} A.
		\label{eqn-upper-prf}
	\end{gather}
	In order to conclude that $\PA + \TI({<}\vartheta(\Omega^{\beta+1}\cdot\omega)) \proves A$, it is necessary to the observe that the aforementioned steps can be formalised in the theory \( \PA + \TI({<}\vartheta(\Omega^{\beta+1}\cdot\omega)) \), including  soundness of the derivation in \eqref{eqn-upper-prf}.
	We omit the rather tedious explanation and refer the reader to, for example, \cite{LeiRat10}, for further detail.
	A requirement for the argument, however, is that an arithmetised version of \eqref{eqn-upper-prf} can be obtained appealing to transfinite induction that does not exceed the ordinal, say, \( \vartheta(\Omega^{\beta+1}.(n + 1) ) \). 
	The reader can confirm that this ordinal is never exceeded in the arguments presented.
\end{proof}

% ----------------------------------------
\section{Conclusion}\label{sec:conc}
% ----------------------------------------

We have introduced a hierarchy  \( ( \HST_\alpha )_{\alpha \in \On } \) of intuitionistic theories of self-applicable truth indexed by ordinals from a fixed elementary ordinal notation system \( \On \) and argued that \( \HST_{\alpha} \) formalises an intensional acceptance of the theories \( \HST_{\beta} \) for \( \beta < \alpha \).

Presented with such a hierarchy of theories $ ( \theory T_\alpha )_{\alpha\in\On }$ it is natural to ask the limit of the corresponding
autonomous progression, that is, the least ordinal not in the set $X_{\theory
T}$ generated by the operation $\pto{\theory T_0}\subseteq X_{\theory T}$ and
$\alpha\in X_\theory T$ implies $\pto{\theory T_\alpha}\subseteq X_{\theory
T}$. 
Autonomous progressions of ramified theories such as $\RA_\alpha$ are well-studied, as are those obtained by
iterating reflection principles~\cite{XX}.
In the case $\theory T_\alpha=\HST_\alpha$ this is not difficult to determine
given \cref{thm:Fbetastrength}.

Combining the results of the previous \namecref{sec:Fbupper1} we determine
the strength of the theory $\HST_\beta$ for every $\beta<\vartheta\Omega^\Omega$.
%
\begin{theorem}\label{thm:Fpstrength}
 For every $p<\omega$,
 \(
  \pto{\HST_p}=\vartheta(\Omega^{p+1}\cdot\omega)
 \).
\end{theorem}
%
\begin{theorem}\label{thm:Fbetastrength}
 For every $\beta\ge\omega$ with $\beta<\vartheta\Omega^\Omega$,
 \[
  \vartheta(\Omega^\beta\cdot\omega)\le\pto{\HST_\beta}\le\vartheta(\Omega^{\beta+1}\cdot\omega).
 \]
\end{theorem}
%
\begin{proof} 
\Cref{HST-upper-bound} provides both upper bounds for the two
theorems. 
The lower bounds are a corollary of
\cref{thm:Fplowerbound} and
\cref{thm:Fbetastrength} respectively.
\end{proof}
%


\begin{theorem}\label{thm:Fbauto}
 The limit of the autonomous progression defined from $\{\HST_\beta:\beta<\Omega\}$ is the large Veblen ordinal, $\vartheta\Omega^\Omega$.
\end{theorem}
\begin{proof}
Let $\sigma_0=0$ and $\sigma_{m+1}=\vartheta(\Omega^{\sigma_m})$. \Cref{thm:Fbetalowerbound} implies $\pto{\HST_{\sigma_m}^1}\ge\sigma_{m+1}$, while \cref{thm:Fbetastrength} entails $\pto{\HST_{\sigma_m}}<\sigma_{m+2}$, so $X_{\F}=\sup_m\sigma_m$. It remains to show
\begin{align*}
 \vartheta(\Omega^\Omega)=\sup_{m<\omega}\sigma_m.
\end{align*}
Since ${\sigma_m}<\Omega$ for every $m$, we have $\Omega^{\sigma_m}<\Omega^\Omega$.
So $\sigma_m<\vartheta(\Omega^\Omega)$ implies
$\sigma_{m+1}<\vartheta(\Omega^\Omega)$. Thus
$\vartheta(\Omega^\Omega)\ge\sup_m\sigma_m$ is established by induction on $m$.

For the converse direction we prove $\alpha<\vartheta(\Omega^\Omega)$ implies
$\alpha<\sigma_m$ for some $m$ by induction on the rank of $\alpha$. If
$\alpha=_\NF\omega^\gamma+\delta$ for some $\gamma$, $\delta$, one easily obtains
$\alpha<\sigma_m$ by the induction hypothesis, so suppose
\begin{align*}
 \alpha=\vartheta\xi<\vartheta(\Omega^\Omega),
\end{align*}
for which there are two cases to consider:
\begin{enumerate}
 \item $\xi<\Omega^\Omega$ and $\xi^*<\vartheta(\Omega^\Omega)$; or
 \item $\xi>\Omega^\Omega$ but $\vartheta\xi\le(\Omega^\Omega)^*$.
\end{enumerate}
Since $(\Omega^\Omega)^*=0$, the latter is impossible. From the former, however, one obtains $\alpha<\vartheta(\Omega^\Omega)$ via the induction
hypothesis.
\end{proof}
% Perhaps we have passed beyond the scope of the thesis by leaving the world of a
% single self-applicable truth predicate and constructing a hierarchy of typed
% truth predicates. Perhaps, instead, one may reasonably argue it was naive to
% expect the step from $\F$ to $\HST_1$ should be iterated; the reflection process
% that lead us to $\HST_1$ may not guarantee the acceptance of \emph{all} theorems of
% $\HST_1$, perhaps only the arithmetical one (Cf.~Feferman). The latter point is a
% valid one, although we argue that the analysis of $\HST_\beta$ is of interest in
% its own right; the behaviour of the predicates in $\HST_\beta$ ...
% One may reasonably argue it was naive to expect the step from $\HST_0$ to $\HST_1$
% could be iterated; the reflection process that lead us to $\HST_1$ may not
% guarantee the acceptance of \emph{all} theorems of $\HST_1$, perhaps only those  in
% the language $\L_0$. This is similar to

Our motivation for defining the theory $\HST_\beta$ as we did stemmed from the
idea of formalising the acceptance of $\F$. The theory $\theory S_3$ with just one
truth predicate appears to almost achieve this, but the general inability
to close $\theory S_3$ under the rule T-Intro means the truth predicate no longer
satisfies the same principles as it did in $\F$. This lead us to consider
stratifying the language, viewing the original predicate of $\F$, now $\T_0$, as
the base level and gradually extending the language by including predicates
$\T_1$, $\T_2$, etc.~in such a way that each predicate $\T_\eta$ in the
language locally satisfies the same axioms and rules as $\T_0$.

% , but also formally
% extends the predicates $\T_\xi$ for $\xi<\eta$.
% We argued that, in order to keep
% the informal interpretation of each predicate unaltered through the transition,
% it was necessary that all predicates be applicable to the entire language
% $\L_\kappa$ and not only to predicates of lower degree, a belief according
% with the view that the rules of inference inherent in a theory should be
% applicable to any subsequent extension of the language.

% The ability to derive meaningful instances of inter-applicability proved crucial
% in determining the proof-theoretic strength of $\HST_\beta$.

The analysis of the theories $\HST_\beta$ reveals that stratification of the
language did not lead us as far from the world of a single self-applicable truth
predicate as might have first appeared. Indeed,
\cref{lem:FFTElim,extthm:FFconsis} show the truth predicates of $\HST_\beta^1$
may be treated as identical; they can all be interpreted as the set
$\FF_{<\Omega^{\beta+1}}$. Within $\HST_\beta^2$ they may all be interpreted as the
set $\FF_{<\Omega^{\beta+1}\cdot2}$ and, in general, all truth predicates in
$\HST_\beta$ can be interpreted as the set
$\FF_{\mathord<\Omega^{\beta+2}}$ (one cannot simply use
$\FF_{\mathord<\Omega^{\beta+1}\cdot\omega}$ for the interpretation of $\T_\beta$ in
$\HST_\beta$ as the set is not closed under the $\omega$-rule, whereas
$\FF_{\mathord<\Omega^{\beta+2}}$ is, as well being closed under \Conec\eta, \Nec\eta for every $\eta\le\beta$.)
The upshot is that we may view each predicate $\T_\eta$ as ``extending'' the base predicate $\T_0$ as well as $\T_\xi$ for $\xi<\eta$. It would be interesting to determine whether the
theory $\HST_\beta$ can be rewritten in some natural type-free form.

The model constructions employed in the previous section for the analysis of $\HST_1$
allow us to obtain an upper bound for the theory $\theory S_3$ introduced in
\cref{sec:S3}. Essentially, we stratify the language $\L_\T$ as described in
\cref{rem:S3}, interpreting the outermost truth predicate by $\T_1$ and all
others by $\T_0$, but by first embedding $\theory S_3$ in an infinitary theory
formulated without T-Elim, we avoid the problems relating to \Conec0 and
\Conec{1}.
\begin{theorem}\label{thm:S3strength}
 $\theory S_3$ proves the same arithmetical statements as $\HST_1^1$ and hence has
proof-theoretic ordinal $\Gamma_0$.
\end{theorem}
\begin{proof}
We define an infinitary proof system $\theoryinf S$ based on $\Tinfty$ into
which we may embed $\theory S_3$. Let $^*$ be the interpretation of $\L_0$ into
$\L_\T$ that recursively interprets the predicate $\T_0$ as $\T$ and otherwise
commutes with all connectives and quantifiers. Define $\theoryinf
S\prv\alpha{}\Gamma$ according to the rules (Ax.1), (Ax.2), (Ax.3),
($\land$), ($\lor_i$), ($\omega$), ($\exists$), (T-Imp), (T-Del), (T-Rep), (T-$\omega$), and
the following additional rule
\begin{description}
 \item [\normalfont(Ax.4)$^\FF$] $\prv\beta{\Omega\cdot\gamma} A$ for some $\gamma,\beta<\Omega$
  implies $\theoryinf S\prv\alpha{}{\Gamma,\T(\gn{A^*})}$ for any \linebreak$\alpha>\max\{\beta,\gamma\}$.
%  \item [\normalfont(T-Rep)] $\theoryinf S^*\prv\alpha{}{\Gamma, \T s}$, implies
\end{description}
The Bounding lemma entails, for $\gamma<\Omega$, that
\begin{align}\label{eqn:S81}
  \prv\alpha{\Omega\cdot\gamma}\Gamma\text{ implies }\theoryinf S\prv\alpha{}{\Gamma^*.}
\end{align}
%
Define a sequence of $\L_\T$-structures
\begin{align*}
  \mathfrak{M}_\alpha=\pair{\N,\{\gn {A^*}:\text{$\prv{\beta}{\Omega\cdot\gamma} A$ for some $\gamma<\alpha$ and $\beta<\vartheta(\Omega\cdot\alpha)$}\}}.
\end{align*}
We claim
\begin{align}\label{eqn:S82}
  \theoryinf S\prv\alpha{}\Gamma\text{ implies }\mathfrak{M}_\alpha\models\textstyle\bigvee\Gamma
\end{align}
whenever $\Gamma$ is T-positive. The
proof proceeds by transfinite induction on $\alpha$. If $\Gamma$ is an instance
of (Ax.4)$^\FF$, $\mathfrak{M}_\alpha\models\bigvee\Gamma$ holds by definition,
while if $\Gamma$ is derived through an application of (T-Rep), it follows from
the induction hypothesis and closure of $\Tinfty$ under (\Nec{0}). If the last applied rule is (T-$\omega$), $\mathfrak{M}_\alpha\models\bigvee\Gamma$ holds by an application of
($\omega$) in $\Tinfty$ and the fact $\vartheta(\Omega\cdot\alpha)$ is increasing in $\alpha$.
% This leaves only applications of (T-Del) to manage, for which we employ
% the T-Elimination theorem for $\Tinfty$, \cref{conec-thm}.
Furthermore, by the definition of the function $\vartheta$, we have
$\vartheta(\Omega\cdot\delta+\beta)<\vartheta(\Omega\cdot\alpha)$ whenever
$\delta<\alpha$ and $\beta<\vartheta(\Omega\cdot\alpha)$; thus
\cref{conec-thm} implies
\begin{align*}
  \mathfrak{M}_\alpha\models\forall\gn A(\T(\gn{\T(\gn A)})\rightarrow \T(\gn A)),
\end{align*}
and we may deduce $\mathfrak{M}_\alpha\models\bigvee\Gamma$ from the induction
hypothesis if the last rule applied was (T-Del).

\eqref{eqn:S82} can now be utilised along with \eqref{eqn:S81} to conclude
\begin{align*}%\label{eqn:S83}
 \theoryinf S\prv\alpha{}{\T(\gn A)}\text{ implies }\theoryinf
S\prv{\vartheta(\Omega\cdot\alpha)}{} {A.}
%\text{ for some $\beta<\vartheta(\Omega\cdot\alpha)$.}
\end{align*}
Since $\vartheta\Omega^2$ is the least ordinal closed under the function
$\alpha\mapsto\vartheta(\Omega\cdot\alpha)$ (see \cref{prop:thetaitems2}) we
may deduce $\theory S_3\proves A$ implies $\theoryinf S\prv\alpha{}A$ for
some $\alpha<\vartheta\Omega^2$ for any sentence $A$, whence $\pto{\theory
S_3}\le\vartheta\Omega^2$. Finally, note $\vartheta\Omega^2=\Gamma_0$
by \cref{prop:thetaitems3}.
\end{proof}

% On a final note, one may
%reasonably consider applying this idea to the other Friedman-Sheard
%theories (or indeed to other theories of self-referential truth). The
%theory $\E$ is $\omega$-inconsistent (\emph{cf.}~\cref{classsec:upperbdE}),
%so a definition of $\E_1$ cannot consistently contain the axiom
%\Uni{1}. Thus, since the predicate $\T_1$ could not adhere to the
%rules governing $\T_0$, this process could not be applied to $\E$. Iterating the
%operation pertaining to $\I$, however, does lead to a hierarchy of consistent
%theories. $\I$ does not contain the rule T-Intro, so one would not naturally include the principle
%\begin{align*}
%  \T_1(x)\rightarrow \T_1(\gn{\T_0(\dot x)})
%\end{align*}
%as an axiom of $\I_\beta$. Without such an axiom, though, there would be no dependency between the two
%predicates: any occurrence of $\T_0$ under $\T_1$ may be treated vacuous, as can
%any occurrence of $\T_1$ under $\T_0$. In an attempt to resolve the matter one
%could add to $\I_1$ the axiom $\T_1(\gn A)$ whenever $A$ is an axiom of $\I_0$
%($\I$ formulated with the predicate $\T_0$). This would appear a natural choice
%as it agrees with the construction of $\HST_1$.
%% \footnote{$\T_1(\gn A)$
%% is derivable in $\HST_1$ for every axiom $A$ of $\HST_0$ due to \Nec{1}.}
%It would be interesting to ascertain the strength of the resulting
%iteration and compare it to our results regarding $\HST_\beta$.

\begin{thebibliography}{10}
	\bibitem{LeiRat10} Leigh, G.E.\@ and M.\@ Rathjen, An ordinal analysis of theories of self-applicable truth. \emph{Arch. Math. Logic} (2010) 49:213–247
	\bibitem{Lei-thesis} Leigh, G.E., \emph{Proof-theoretic investigations into the Friedman--Sheard theories and other theories of truth}, Ph.D.\@ thesis, School of Mathematics, University of Leeds, 2010.
	\bibitem{BFPS81} Buccholz, Feferman, Pohlers and Sieg.
	\bibitem{Fef91} Feferman, Solomon. Reflecting on Incompleteness, (1991)
	\bibitem{RW93} Rathjen and Weiermann, \dots\ Kruskal's Theorem \dots.
	\bibitem{XX} Some other citation.
\end{thebibliography}

%++++++++++++++++++++++++++++++++++++++++
\end{document}
%++++++++++++++++++++++++++++++++++++++++
%++++++++++++++++++++++++++++++++++++++++
%++++++++++++++++++++++++++++++++++++++++


